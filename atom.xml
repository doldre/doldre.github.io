<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xinchen&#39;s Blog</title>
  <subtitle>For you thousands of times.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://luoxinchen.me/"/>
  <updated>2016-09-10T03:18:08.000Z</updated>
  <id>http://luoxinchen.me/</id>
  
  <author>
    <name>Xinchen Luo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>暑期集训-7-6-t</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-t/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-t/</id>
    <published>2016-09-10T03:14:46.000Z</published>
    <updated>2016-09-10T03:18:08.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给定一些长方体，求其能叠放的最大高度。一个长方体能叠在另一个上面的条件是，其底面的长和宽都严格大于另一个</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>把一个长方体拆成3个，然后排个序，dp一下<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 200;</div><div class="line">struct Block &#123;</div><div class="line">    int x, y, z;</div><div class="line">    Block(int x, int y, int z):x(x), y(y), z(z) &#123;&#125;</div><div class="line">    Block() &#123;&#125;</div><div class="line">    bool operator &lt; (const Block &amp;b) const &#123;</div><div class="line">        return x &lt; b.x || (x == b.x &amp;&amp; y &lt; b.y) ||</div><div class="line">            (x == b.x &amp;&amp; y == b.y &amp;&amp; z &lt; b.z);</div><div class="line">    &#125;</div><div class="line">    bool greater(const Block &amp;b) const &#123;</div><div class="line">        return x &gt; b.x &amp;&amp; y &gt; b.y;</div><div class="line">    &#125;</div><div class="line">&#125;blocks[maxn];</div><div class="line"></div><div class="line">int dp[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    int Cas = 0;</div><div class="line">    while(scanf("%d", &amp;n) == 1 &amp;&amp; n) &#123;</div><div class="line">        int cnt = 0;</div><div class="line">        blocks[cnt++] = Block(0, 0, 0);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int x, y, z;</div><div class="line">            scanf("%d%d%d", &amp;x, &amp;y, &amp;z);</div><div class="line">            blocks[cnt++] = Block(x, y, z);</div><div class="line">            blocks[cnt++] = Block(x, z, y);</div><div class="line">            blocks[cnt++] = Block(y, x, z);</div><div class="line">            blocks[cnt++] = Block(y, z, x);</div><div class="line">            blocks[cnt++] = Block(z, x, y);</div><div class="line">            blocks[cnt++] = Block(z, y, x);</div><div class="line">        &#125;</div><div class="line">        sort(blocks, blocks + cnt);</div><div class="line">        memset(dp, 0, sizeof(dp));</div><div class="line">        int ans = 0;</div><div class="line">        for (int i = 0; i &lt; cnt; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; i; j++) &#123;</div><div class="line">                if(blocks[i].greater(blocks[j])) &#123;</div><div class="line">                    dp[i] = max(dp[i], dp[j] + blocks[i].z);</div><div class="line">                    ans = max(ans, dp[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("Case %d: maximum height = %d\n", ++Cas, ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给定一些长方体，求其能叠放的最大高度。一个长方体能叠在另一个上面的条件是，其底面的长和宽都严格大于另一个&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;把一个长方体拆成3个，然后排个序，dp一下&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-s</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-s/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-s/</id>
    <published>2016-09-10T03:10:35.000Z</published>
    <updated>2016-09-10T03:14:11.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给个长度为n的学列A，m个询问。每个询问给出li，ri, xi. 对于每个询问，找到pi(li &lt;= pi &lt;= ri),A[pi] != xi</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>对于每个位置，预处理下和当前位置上的数不同的最近的右边/左边的位置就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 2e5 + 5;</div><div class="line">int A[maxn], dp[maxn];</div><div class="line">int n, m;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;n, &amp;m);</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        scanf("%d", &amp;A[i]);</div><div class="line">    &#125;</div><div class="line">    dp[1] = 1;</div><div class="line">    for (int i = 2; i &lt;= n; i++) &#123;</div><div class="line">        if(A[i] == A[i-1]) dp[i] = dp[i-1]; </div><div class="line">        else dp[i] = i;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">        int l, r, x;</div><div class="line">        scanf("%d%d%d", &amp;l, &amp;r, &amp;x);</div><div class="line">        if(A[r] == x) &#123;</div><div class="line">            if(dp[r] &lt;= l) &#123;</div><div class="line">                printf("%d\n", -1);</div><div class="line">            &#125; else printf("%d\n", dp[r] - 1);</div><div class="line">        &#125; else &#123;</div><div class="line">            printf("%d\n", r);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给个长度为n的学列A，m个询问。每个询问给出li，ri, xi. 对于每个询问，找到pi(li &amp;lt;= pi &amp;lt;= ri),A[pi] != xi&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;对于每个位置，预处理下和当前位置上的数不同的最近的右边/左边的位置就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="简单题" scheme="http://luoxinchen.me/tags/%E7%AE%80%E5%8D%95%E9%A2%98/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-r</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-r/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-r/</id>
    <published>2016-09-10T03:04:23.000Z</published>
    <updated>2016-09-10T03:10:03.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>石头剪子布，分别有r,s,p个，相互碰到输的一方会死去，两两之间等概率相遇，最后每种是唯一活下去的概率</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>考虑dp[i][j][k]表示石头剪子布分别剩i,j,k个的概率。因为同种相遇不改变状态。所以tot = i <em> j + j </em> k + i * k<br>然后考虑三种相遇情况转移就好.</p>
<a id="more"></a>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 100 + 5;</div><div class="line">double dp[maxn][maxn][maxn];</div><div class="line"></div><div class="line">bool judge(int a, int b, int c) &#123;</div><div class="line">    int t = (a &gt; 0) + (b &gt; 0) + (c &gt; 0);</div><div class="line">    return t &gt;= 2;</div><div class="line">&#125;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int r, s, p;</div><div class="line">    scanf("%d%d%d", &amp;r, &amp;s, &amp;p);</div><div class="line">    dp[r][s][p] = 1;</div><div class="line">    double ansr = 0, anss = 0, ansp = 0;</div><div class="line"></div><div class="line">    for (int i = r; i &gt;= 0; i--) &#123;</div><div class="line">        for (int j = s; j &gt;= 0; j--) &#123;</div><div class="line">            for (int k = p; k &gt;= 0; k--) &#123;</div><div class="line">                if(judge(i + 1, j, k)) dp[i][j][k] += dp[i+1][j][k] * double((i+1)*k)/double((i+1)*j + (i+1)*k + j*k);</div><div class="line">                if(judge(i, j + 1, k)) dp[i][j][k] += dp[i][j+1][k] * double((j+1)*i)/double(i*(j+1) + i*k + (j+1)*k);</div><div class="line">                if(judge(i, j, k + 1)) dp[i][j][k] += dp[i][j][k+1] * double((k+1)*j)/double(i*j + i*(k+1) + j*(k+1));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    for (int i = 1; i &lt; maxn; i++) &#123;</div><div class="line">        ansr += dp[i][0][0];</div><div class="line">        anss += dp[0][i][0];</div><div class="line">        ansp += dp[0][0][i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    printf("%.9f %.9f %.9f\n", ansr, anss, ansp);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;石头剪子布，分别有r,s,p个，相互碰到输的一方会死去，两两之间等概率相遇，最后每种是唯一活下去的概率&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;考虑dp[i][j][k]表示石头剪子布分别剩i,j,k个的概率。因为同种相遇不改变状态。所以tot = i &lt;em&gt; j + j &lt;/em&gt; k + i * k&lt;br&gt;然后考虑三种相遇情况转移就好.&lt;/p&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-q</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-q/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-q/</id>
    <published>2016-09-10T02:59:17.000Z</published>
    <updated>2016-09-10T03:03:52.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2955<br>求最长匹配的括号子序列</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>区间dp一下就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 100 + 5;</div><div class="line">int dp[maxn][maxn];</div><div class="line">int ans[maxn];</div><div class="line">char str[maxn];</div><div class="line"></div><div class="line">int dfs(int i, int j) &#123;</div><div class="line">    if(i &gt;= j) return 0;</div><div class="line">    if(dp[i][j] != -1) return dp[i][j];</div><div class="line">    else &#123;</div><div class="line">        if((str[i] == '(' &amp;&amp; str[j] == ')') || </div><div class="line">                (str[i] == '[' &amp;&amp; str[j] == ']')) &#123;</div><div class="line">            dp[i][j] = max(dp[i][j], dfs(i+1, j-1) + 2);</div><div class="line">        &#125;</div><div class="line">        for (int k = i; k &lt;= j; k++) &#123;</div><div class="line">            dp[i][j] = max(dp[i][j], (dfs(i, k) + dfs(k+1, j)));</div><div class="line">        &#125;</div><div class="line">        return dp[i][j];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%s", str) == 1) &#123;</div><div class="line">        if(strcmp(str, "end") == 0) &#123;</div><div class="line">            return 0;</div><div class="line">        &#125;</div><div class="line">        int len = strlen(str);</div><div class="line">        memset(dp, -1, sizeof(dp));</div><div class="line">        dfs(0, len - 1);</div><div class="line">        printf("%d\n", dfs(0, len-1));</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2955&lt;br&gt;求最长匹配的括号子序列&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;区间dp一下就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-o</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-o/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-o/</id>
    <published>2016-09-10T02:51:02.000Z</published>
    <updated>2016-09-10T02:58:31.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>一个软件系统有s个子系统，会产生n种bug，某人一天发现一个bug，这个bug属于一个子系统和一个分类。每个bug属于某个子系统的概率是1/s,属于一个分类，问发现n中bug，并且每个子系统都发现bug的天数的期望。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>设dp[i][j]表示已经找到i种bug，j个系统的bug，需要达到目标状态的天数期望<br>dp[n][s] = 0;<br>然后分成四种情况转移就好，转移到自己很特殊，所以只有3种情况，注意概率的转化<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1000 + 5;</div><div class="line">double dp[maxn][maxn];</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n, s;</div><div class="line">    scanf("%d%d", &amp;n, &amp;s);</div><div class="line">    dp[n][s] = 0;</div><div class="line">    for (int i = n; i &gt;= 0; i--) &#123;</div><div class="line">        for (int j = s; j &gt;= 0; j--) &#123;</div><div class="line">            if(i == n &amp;&amp; j == s) continue;</div><div class="line">            double p1 = double(i) / n, p2 = double(j) / s;</div><div class="line">            double t = 1 - p1 * p2;</div><div class="line">            dp[i][j] += (dp[i+1][j] + 1/ t) * (1 - p1) * p2 / t; </div><div class="line">            dp[i][j] += (dp[i+1][j+1] + 1/ t) * (1 - p1)*(1-p2)/t; </div><div class="line">            dp[i][j] += (dp[i][j+1] + 1/ t) * p1 * (1 - p2) / t; </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">        for (int j = 0; j &lt;= s; j++) &#123;</div><div class="line">            printf("%.4f ", dp[i][j]);</div><div class="line">        &#125;</div><div class="line">        puts("");</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    printf("%.4f\n", dp[0][0]);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;一个软件系统有s个子系统，会产生n种bug，某人一天发现一个bug，这个bug属于一个子系统和一个分类。每个bug属于某个子系统的概率是1/s,属于一个分类，问发现n中bug，并且每个子系统都发现bug的天数的期望。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;设dp[i][j]表示已经找到i种bug，j个系统的bug，需要达到目标状态的天数期望&lt;br&gt;dp[n][s] = 0;&lt;br&gt;然后分成四种情况转移就好，转移到自己很特殊，所以只有3种情况，注意概率的转化&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="概率" scheme="http://luoxinchen.me/tags/%E6%A6%82%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-n</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-n/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-n/</id>
    <published>2016-09-10T02:37:40.000Z</published>
    <updated>2016-09-10T02:50:36.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces    687D<br>给一个图n个点，m条边，q个询问<br>每次询问l，r，用l，r以内的边，构成一个图几何。把这个图中的点，分成两个部分，这个图的hardness定义为同一部分里面最长边的长度，求这个hardness的最小值。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>对所有边从大大小排序，对于每个询问，暴力跑一下所有边，用并查集判断一下就好。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1000 + 5;</div><div class="line"></div><div class="line">struct DSU &#123;</div><div class="line">    int par[4*maxn], n;</div><div class="line">    void init(int n) &#123;</div><div class="line">        this-&gt;n = n;</div><div class="line">        for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">            par[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int find(int x) &#123;</div><div class="line">        return x == par[x] ? x : par[x] = find(par[x]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    bool merge(int a, int b) &#123;</div><div class="line">        if(find(a &lt;&lt; 1) == find(b &lt;&lt; 1)) &#123;</div><div class="line">            return false;</div><div class="line">        &#125;</div><div class="line">        par[find(a &lt;&lt; 1)] = find(b &lt;&lt; 1 | 1);</div><div class="line">        par[find(b &lt;&lt; 1)] = find(a &lt;&lt; 1 | 1);</div><div class="line">        return true;</div><div class="line">    &#125;</div><div class="line">&#125;dsu;</div><div class="line"></div><div class="line">struct Edge &#123;</div><div class="line">    int u, v, w, num;</div><div class="line">    Edge() &#123;&#125;</div><div class="line">    Edge(int u, int v, int w):u(u), v(v), w(w) &#123;&#125;</div><div class="line">&#125;es[maxn*maxn];</div><div class="line"></div><div class="line">bool cmp(const Edge &amp;a, const Edge &amp;b) &#123;</div><div class="line">    return a.w &gt; b.w;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int n, m, q;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d%d", &amp;n, &amp;m, &amp;q);</div><div class="line">    for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">        scanf("%d%d%d", &amp;es[i].u, &amp;es[i].v, &amp;es[i].w);</div><div class="line">        es[i].u--; es[i].v--;</div><div class="line">        es[i].num = i + 1;</div><div class="line">    &#125;</div><div class="line">    sort(es, es + m, cmp);</div><div class="line">    for (int i = 0; i &lt; q; i++) &#123;</div><div class="line">        int l, r;</div><div class="line">        scanf("%d%d", &amp;l, &amp;r);</div><div class="line">        int res = -1;</div><div class="line">        dsu.init(2*n);</div><div class="line">        for (int j = 0; j &lt; m &amp;&amp; res == -1; j++) &#123;</div><div class="line">            if(es[j].num &gt;=l &amp;&amp; es[j].num &lt;= r) &#123;</div><div class="line">                if(!dsu.merge(es[j].u, es[j].v)) &#123;</div><div class="line">                    res = es[j].w;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", res);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces    687D&lt;br&gt;给一个图n个点，m条边，q个询问&lt;br&gt;每次询问l，r，用l，r以内的边，构成一个图几何。把这个图中的点，分成两个部分，这个图的hardness定义为同一部分里面最长边的长度，求这个hardness的最小值。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;对所有边从大大小排序，对于每个询问，暴力跑一下所有边，用并查集判断一下就好。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="DSU" scheme="http://luoxinchen.me/tags/DSU/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-m</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-m/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-m/</id>
    <published>2016-09-10T02:31:18.000Z</published>
    <updated>2016-09-10T02:34:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces 687C<br>给n个数，问在n个数里面选一些数字，和为k的条件下，这些集合的子集元素和可以为多少</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>简单dp，dp[i][sum][k]表示前i个数，和为sum，k是否能为子集和<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 500 + 5;</div><div class="line">int subset[maxn][maxn];</div><div class="line">int sum[maxn];</div><div class="line">int C[maxn];</div><div class="line">int n, K;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;n, &amp;K);</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        scanf("%d", &amp;C[i]);</div><div class="line">    &#125;</div><div class="line">    sum[0] = 1, subset[0][0] = 1; </div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        int c = C[i];</div><div class="line">        for (int j = K; j &gt;= c; j--) &#123;</div><div class="line">            if(sum[j-c]) &#123;</div><div class="line">                sum[j] = 1;</div><div class="line">                for (int k = 0; k &lt;= j - c; k++) &#123;</div><div class="line">                    if(subset[j-c][k]) &#123;</div><div class="line">                        subset[j][k] = 1;</div><div class="line">                        subset[j][k+c] = 1;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    vector&lt;int&gt; ans;</div><div class="line">    for (int i = 0; i &lt;= K; i++) &#123;</div><div class="line">        if(subset[K][i]) &#123;</div><div class="line">            ans.push_back(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    printf("%d\n", (int)ans.size());</div><div class="line">    for (auto x: ans) &#123;</div><div class="line">        printf("%d ", x);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces 687C&lt;br&gt;给n个数，问在n个数里面选一些数字，和为k的条件下，这些集合的子集元素和可以为多少&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;简单dp，dp[i][sum][k]表示前i个数，和为sum，k是否能为子集和&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/tags/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-l</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-l/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-l/</id>
    <published>2016-09-10T02:20:43.000Z</published>
    <updated>2016-09-10T02:26:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2566<br>给一个序列，让找到一个连续的子序列，使其和的绝对值最接近target.</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>非常经典的一个题。求出所有的前缀和，对前缀和排序，然后two pointers<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1e5 + 5;</div><div class="line">int A[maxn];</div><div class="line">pii sum[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n, k;</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;k) == 2) &#123;</div><div class="line">        if(n == 0 &amp;&amp; k == 0) return 0;</div><div class="line">        memset(A, 0, sizeof(A));</div><div class="line">        memset(sum, 0, sizeof(sum));</div><div class="line">        sum[0] = pii(0, 0);</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">           scanf("%d", &amp;A[i]);</div><div class="line">           sum[i].xx = sum[i-1].xx + A[i];</div><div class="line">           sum[i].yy = i;</div><div class="line">        &#125;</div><div class="line">        sort(sum, sum + n + 1);</div><div class="line">        for (int i = 0; i &lt; k; i++) &#123;</div><div class="line">            int t; scanf("%d", &amp;t);</div><div class="line">            int tmp = inf, ans = inf, ansl = -1, ansr = -1;</div><div class="line">            for (int l = 0, r = 1; r &lt;= n; r++) &#123;</div><div class="line">                if(l &lt; r &amp;&amp; abs(sum[r].xx - sum[l].xx - t) &lt; tmp) &#123;</div><div class="line">                    tmp = abs(sum[r].xx - sum[l].xx - t);</div><div class="line">                    ans = sum[r].xx - sum[l].xx;</div><div class="line">                    ansl = sum[l].yy, ansr = sum[r].yy;</div><div class="line">                &#125;</div><div class="line">                while(l &lt; r &amp;&amp; sum[r].xx - sum[l].xx &gt;= t) &#123;</div><div class="line">                    l++;</div><div class="line">                    if(l &lt; r &amp;&amp; abs(sum[r].xx - sum[l].xx - t) &lt; tmp) &#123;</div><div class="line">                        tmp = abs(sum[r].xx - sum[l].xx - t);</div><div class="line">                        ans = sum[r].xx - sum[l].xx;</div><div class="line">                        ansl = sum[l].yy; ansr = sum[r].yy;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            if(ansl &gt; ansr) swap(ansl, ansr);</div><div class="line">            printf("%d %d %d\n", ans, ansl + 1, ansr);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2566&lt;br&gt;给一个序列，让找到一个连续的子序列，使其和的绝对值最接近target.&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;非常经典的一个题。求出所有的前缀和，对前缀和排序，然后two pointers&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="two pointers" scheme="http://luoxinchen.me/tags/two-pointers/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-k</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-k/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-k/</id>
    <published>2016-09-10T02:16:49.000Z</published>
    <updated>2016-09-10T02:20:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 3320<br>找一段最小的连续的区间，包含所有出现过的数字</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>two pointers<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line"> *************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1e6 + 6;</div><div class="line">int A[maxn];</div><div class="line">int V[maxn];</div><div class="line">int n;</div><div class="line">int cnt[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d", &amp;n) == 1) &#123;</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            scanf("%d", &amp;A[i]);</div><div class="line">            V[i-1] = A[i]; </div><div class="line">        &#125;</div><div class="line">        sort(V, V + n);</div><div class="line">        int m = unique(V, V + n) - V;</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            A[i] = lower_bound(V, V + m, A[i]) - V;</div><div class="line">        &#125;</div><div class="line">        int ans = inf; </div><div class="line">        memset(cnt, 0, sizeof(cnt));</div><div class="line">        for (int l = 1, r = 1, c = 0; r &lt;= n; r++) &#123;</div><div class="line">            if(cnt[A[r]]++ == 0) c++;</div><div class="line">            while(c == m) &#123;</div><div class="line">                ans = min(ans, r - l + 1);</div><div class="line">                cnt[A[l]]--;</div><div class="line">                if(cnt[A[l]] == 0) c--;</div><div class="line">                l++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 3320&lt;br&gt;找一段最小的连续的区间，包含所有出现过的数字&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;two pointers&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="two pointers" scheme="http://luoxinchen.me/tags/two-pointers/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-j</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-j/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-j/</id>
    <published>2016-09-10T02:09:59.000Z</published>
    <updated>2016-09-10T02:14:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给一个M*N的01矩阵，每次可以反转一个位置，但其上下左右的位置也会跟着反转，问最后能否把这个矩阵反转为全为0，并输出方案</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>枚举第一行的反转方案，递推 O(2^m * n)<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line"> *************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 15;</div><div class="line">int M, N;</div><div class="line">int src[maxn];</div><div class="line">int dp[maxn];</div><div class="line">int buf[maxn];</div><div class="line">int ans[maxn];</div><div class="line">void work(int &amp;x, int mask) &#123;</div><div class="line">    for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">        if((mask &gt;&gt; i) &amp; 1) &#123;</div><div class="line">            x ^= 1&lt;&lt;i;</div><div class="line">            x ^= (1&lt;&lt;i) &gt;&gt; 1;</div><div class="line">            if(i &lt; N - 1) x ^= ((1&lt;&lt;i)&lt;&lt;1);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;M, &amp;N);</div><div class="line">    memset(dp, 0, sizeof(0));</div><div class="line">    memset(src, 0, sizeof(src));</div><div class="line">    for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">        for (int j = 0; j &lt; N; j++) &#123;</div><div class="line">            int x; scanf("%d", &amp;x);</div><div class="line">            src[i] |= x &lt;&lt; (N - j - 1);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    int cnt = inf;</div><div class="line">    for (int mask = 0; mask &lt; (1 &lt;&lt; N); mask++) &#123;</div><div class="line">        memcpy(dp, src, sizeof(src));</div><div class="line">        int t = mask;</div><div class="line">        for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">            work(dp[i], t);</div><div class="line">            buf[i] = t;</div><div class="line">            if(i + 1 &lt; M) &#123;</div><div class="line">                dp[i+1] ^= t;</div><div class="line">            &#125;</div><div class="line">            t = dp[i];</div><div class="line">        &#125;</div><div class="line">        if(dp[M-1] == 0) &#123;</div><div class="line">            int t = 0;</div><div class="line">            for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">                t += __builtin_popcount(buf[i]);</div><div class="line">            &#125;</div><div class="line">            if(t &lt; cnt) &#123;</div><div class="line">                cnt = t;</div><div class="line">                memcpy(ans, buf, sizeof(buf));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    if(cnt == inf) &#123;</div><div class="line">        printf("IMPOSSIBLE\n");</div><div class="line">    &#125; else &#123;</div><div class="line">        for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; N; j++) &#123;</div><div class="line">                printf("%d%c", ((ans[i]&gt;&gt;(N-1-j)) &amp; 1), </div><div class="line">                        j == N - 1 ? '\n' : ' ');</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给一个M*N的01矩阵，每次可以反转一个位置，但其上下左右的位置也会跟着反转，问最后能否把这个矩阵反转为全为0，并输出方案&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;枚举第一行的反转方案，递推 O(2^m * n)&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-i</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-i/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-i/</id>
    <published>2016-09-10T02:02:10.000Z</published>
    <updated>2016-09-10T02:08:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 3185<br>给一列碗，将其翻转为全部碗口向上，最少需要翻转多少次，翻转一个碗时其两边的碗也会被翻转。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>这里有两种做法</p>
<ol>
<li>因为碗只有20个，所以我们可以直接枚举翻转方案，然后check最后碗是否是全部向上。这里枚举方案有2^20,check可以O(1)完成。</li>
<li>可以枚举第一个碗是否翻转，然后后面可以直接递推出现，复杂度2*20</li>
</ol>
<a id="more"></a>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>这里给出做法1的代码<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int s = 0;</div><div class="line">    for (int i = 0; i &lt; 20; i++) &#123;</div><div class="line">        int x; scanf("%d", &amp;x);</div><div class="line">        s |= x&lt;&lt;i;</div><div class="line">    &#125;</div><div class="line">    int ans = 100;</div><div class="line">    for (int i = 0; i &lt; (1&lt;&lt;20); i++) &#123;</div><div class="line">        int t = i ^ (i &lt;&lt; 1) ^ (i &gt;&gt; 1);</div><div class="line">        t %= (1&lt;&lt;20);</div><div class="line">        if((s ^ t) == 0) &#123;</div><div class="line">            ans = min(ans, __builtin_popcount(i));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    cout &lt;&lt; ans &lt;&lt; endl;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 3185&lt;br&gt;给一列碗，将其翻转为全部碗口向上，最少需要翻转多少次，翻转一个碗时其两边的碗也会被翻转。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;这里有两种做法&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;因为碗只有20个，所以我们可以直接枚举翻转方案，然后check最后碗是否是全部向上。这里枚举方案有2^20,check可以O(1)完成。&lt;/li&gt;
&lt;li&gt;可以枚举第一个碗是否翻转，然后后面可以直接递推出现，复杂度2*20&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="开关问题" scheme="http://luoxinchen.me/tags/%E5%BC%80%E5%85%B3%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-g</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-g/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-g/</id>
    <published>2016-09-10T01:57:51.000Z</published>
    <updated>2016-09-10T02:01:22.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>UVA 10881<br>许多蚂蚁在一条直线上，每个蚂蚁的移动速度都是1，并且有一个初始方向。两个蚂蚁相撞时会转向，问t世间后各个蚂蚁的位置。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>经典题，蚂蚁相撞后可以等价于直接穿过，然后排个序对应一下就好。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e4 + 5;</div><div class="line">pair&lt;pii, int&gt; A[maxn];</div><div class="line">pii buf[maxn];</div><div class="line">int pos[maxn], sta[maxn];</div><div class="line">int L, T, n;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int Case; scanf("%d", &amp;Case);</div><div class="line">    for (int Cas = 1; Cas &lt;= Case; Cas++) &#123;</div><div class="line">        scanf("%d%d%d", &amp;L, &amp;T, &amp;n);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int x; char ch;</div><div class="line">            cin &gt;&gt; x &gt;&gt; ch;</div><div class="line">            A[i].xx.xx = x;</div><div class="line">            A[i].yy = i;</div><div class="line">            A[i].xx.yy = (ch == 'R' ? 1 : -1);</div><div class="line">        &#125;</div><div class="line">        sort(A, A + n);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            buf[i].xx = A[i].xx.xx + A[i].xx.yy * T;</div><div class="line">            buf[i].yy = A[i].xx.yy;</div><div class="line">        &#125;</div><div class="line">        sort(buf, buf + n);</div><div class="line">        printf("Case #%d:\n", Cas);</div><div class="line"></div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            pos[A[i].yy] = buf[i].xx;</div><div class="line">            // prln(A[i].yy);</div><div class="line">            if(buf[i].xx &lt; 0 || buf[i].xx &gt; L) &#123;</div><div class="line">                sta[A[i].yy] = 1;</div><div class="line">            &#125; else &#123;</div><div class="line">                // printf("%d ", buf[i].xx);</div><div class="line">                if((i &gt; 0 &amp;&amp; buf[i].xx == buf[i-1].xx) ||</div><div class="line">                        (i &lt; n - 1 &amp;&amp; buf[i].xx == buf[i+1].xx)) &#123;</div><div class="line">                    sta[A[i].yy] = 2;</div><div class="line">                &#125; else &#123;</div><div class="line">                    if(buf[i].yy == 1) &#123;</div><div class="line">                        sta[A[i].yy] = 3;</div><div class="line">                    &#125; else &#123;</div><div class="line">                        sta[A[i].yy] = 4;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            if(sta[i] == 1) &#123;</div><div class="line">                printf("Fell off\n");</div><div class="line">            &#125; </div><div class="line">            if(sta[i] == 2) &#123;</div><div class="line">                printf("%d Turning\n", pos[i]);</div><div class="line">            &#125;</div><div class="line">            if(sta[i] == 3) &#123;</div><div class="line">                printf("%d R\n", pos[i]);</div><div class="line">            &#125;</div><div class="line">            if(sta[i] == 4) &#123;</div><div class="line">                printf("%d L\n", pos[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        puts("");</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;UVA 10881&lt;br&gt;许多蚂蚁在一条直线上，每个蚂蚁的移动速度都是1，并且有一个初始方向。两个蚂蚁相撞时会转向，问t世间后各个蚂蚁的位置。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;经典题，蚂蚁相撞后可以等价于直接穿过，然后排个序对应一下就好。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="简单题" scheme="http://luoxinchen.me/tags/%E7%AE%80%E5%8D%95%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-e</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-e/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-e/</id>
    <published>2016-09-10T01:50:17.000Z</published>
    <updated>2016-09-10T01:56:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 1700<br>N个人过河，船每次只能坐连个人，船载每个人过河的所需的时间不同，问最快的过河时间</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>贪心，n &lt;= 3的时候可以直接算出，n &gt; 3时，考虑最慢的两个人过河最快的两种方案取最小值，即min(A[0] + A[n-1] + A[n-2] + A[0], A[1] + A[0] + A[1] + A[n-1]);</p>
<a id="more"></a>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e3 + 5;</div><div class="line">int A[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T; scanf("%d", &amp;T);</div><div class="line">    while(T--) &#123;</div><div class="line">        int n;</div><div class="line">        scanf("%d", &amp;n);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            scanf("%d", &amp;A[i]);</div><div class="line">        &#125;</div><div class="line">        int ans = 0;</div><div class="line">        while(n) &#123;</div><div class="line">            if(n &lt;= 2) &#123;</div><div class="line">                ans += A[n - 1]; n = 0;</div><div class="line">            &#125; else if(n == 3) &#123;</div><div class="line">                ans += A[0] + A[1] + A[2]; n = 0;</div><div class="line">            &#125; else &#123;</div><div class="line">                ans += min(A[0] + A[n-1] + A[n-2] + A[0],</div><div class="line">                        A[1] + A[0] + A[1] + A[n-1]);</div><div class="line">                n -= 2;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 1700&lt;br&gt;N个人过河，船每次只能坐连个人，船载每个人过河的所需的时间不同，问最快的过河时间&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;贪心，n &amp;lt;= 3的时候可以直接算出，n &amp;gt; 3时，考虑最慢的两个人过河最快的两种方案取最小值，即min(A[0] + A[n-1] + A[n-2] + A[0], A[1] + A[0] + A[1] + A[n-1]);&lt;/p&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="贪心" scheme="http://luoxinchen.me/tags/%E8%B4%AA%E5%BF%83/"/>
    
      <category term="POj" scheme="http://luoxinchen.me/tags/POj/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-6-a</title>
    <link href="http://luoxinchen.me/2016/09/10/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-6-a/"/>
    <id>http://luoxinchen.me/2016/09/10/暑期集训-7-6-a/</id>
    <published>2016-09-10T01:44:39.000Z</published>
    <updated>2016-09-10T01:51:09.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>HDU 2586<br>给一颗树，询问u,v两点的距离</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>转化为有根树，从根root开始跑单源最短路，求个最近公共祖先fa，然后d[u][v] = d[root][u] + d[root][v] - 2 * d[root][fa];<br><!--moer--></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxm = 200 + 5;</div><div class="line">const int maxn = 4e4 + 5;</div><div class="line"></div><div class="line">struct DSU &#123;</div><div class="line">    int par[maxn], n;</div><div class="line">    void init(int n) &#123;</div><div class="line">        this-&gt;n = n;</div><div class="line">        for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">            par[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int find(int x) &#123;</div><div class="line">        return x == par[x] ? x : par[x] = find(par[x]);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void merge(int a, int b) &#123;</div><div class="line">        a = find(a), b = find(b);</div><div class="line">        par[a] = b;</div><div class="line">    &#125;</div><div class="line">&#125;dsu;</div><div class="line"></div><div class="line">struct Edge &#123;</div><div class="line">    int to, w;</div><div class="line">    Edge() &#123;&#125;</div><div class="line">    Edge(int to, int w): to(to), w(w) &#123;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">vector&lt;Edge&gt; G[maxn], querry[maxn];</div><div class="line">int used[maxn];</div><div class="line">int ans[maxm];</div><div class="line">int dist[maxn];</div><div class="line">int n, m;</div><div class="line"></div><div class="line">void dfs(int u, int d, int fa) &#123;</div><div class="line">   dist[u] = d;</div><div class="line">   for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">       int v = G[u][i].to;</div><div class="line">       if(v == fa) continue;</div><div class="line">       dfs(v, d + G[u][i].w, u);</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void tarjan(int u, int fa) &#123;</div><div class="line">    used[u] = true;</div><div class="line">    for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">        int v = G[u][i].to;</div><div class="line">        if(v == fa) continue;</div><div class="line">        tarjan(v, u);</div><div class="line">        dsu.merge(v, u);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    for (int i = 0; i &lt; (int)querry[u].size(); i++) &#123;</div><div class="line">        int v = querry[u][i].to;</div><div class="line">        if (used[v]) &#123;</div><div class="line">            ans[querry[u][i].w] = dist[u] + dist[v] - 2 * dist[dsu.find(v)];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T; scanf("%d", &amp;T);</div><div class="line">    while(T--) &#123;</div><div class="line">        scanf("%d%d", &amp;n, &amp;m);</div><div class="line">        for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">            G[i].clear();</div><div class="line">            querry[i].clear();</div><div class="line">        &#125;</div><div class="line">        for (int i = 1; i &lt;= n - 1; i++) &#123;</div><div class="line">            int u, v, w;</div><div class="line">            scanf("%d%d%d", &amp;u, &amp;v, &amp;w);</div><div class="line">            G[u].push_back(Edge(v, w));</div><div class="line">            G[v].push_back(Edge(u, w));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            int u, v;</div><div class="line">            scanf("%d%d", &amp;u, &amp;v);</div><div class="line">            querry[u].push_back(Edge(v, i));</div><div class="line">            querry[v].push_back(Edge(u, i));</div><div class="line">        &#125;</div><div class="line">        memset(dist, -1, sizeof(dist));</div><div class="line">        dfs(1, 0, -1);</div><div class="line">        memset(used, 0, sizeof(used));</div><div class="line">        dsu.init(n);</div><div class="line">        tarjan(1, -1);</div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            printf("%d\n", ans[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;HDU 2586&lt;br&gt;给一颗树，询问u,v两点的距离&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;heade
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="图论" scheme="http://luoxinchen.me/tags/%E5%9B%BE%E8%AE%BA/"/>
    
      <category term="Tarjan" scheme="http://luoxinchen.me/tags/Tarjan/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-q</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-q/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-q/</id>
    <published>2016-09-09T03:38:59.000Z</published>
    <updated>2016-09-09T03:49:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给个矩形，给n条线段，每条线段均从矩形四边出发，到矩形四边结束。给出宝藏的坐标。问从外面进入宝藏所在的位置至少需要开几道门。门只能开在一条线段的中间。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>可以发现这样一个性质，从矩形边长上一个点，到达宝藏需要开的门的最少个数，等于宝藏所在点与此点连线与其他线段的交点数。所以枚举起点，暴力求线段交就好。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 300 + 5;</div><div class="line">const double eps = 1e-9;</div><div class="line"></div><div class="line">int sgn(double x) &#123;</div><div class="line">    if(x &gt; eps) return 1;</div><div class="line">    else if(x &lt; -eps) return -1;</div><div class="line">    else return 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">struct Point &#123;</div><div class="line">    double x, y;</div><div class="line">    Point() &#123;&#125;</div><div class="line">    Point(double x, double y):x(x), y(y) &#123;&#125;</div><div class="line">    void read() &#123;</div><div class="line">        scanf("%lf%lf", &amp;x, &amp;y);</div><div class="line">    &#125;</div><div class="line">    double det(const Point &amp;b) const &#123;</div><div class="line">        return x * b.y - y * b.x;</div><div class="line">    &#125;</div><div class="line">    double dot(const Point &amp;b) const &#123;</div><div class="line">        return x * b.x + y * b.y;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Point operator - (const Point &amp;b) const &#123;</div><div class="line">        return Point(x - b.x, y - b.y);</div><div class="line">    &#125;</div><div class="line">&#125;ps[maxn];</div><div class="line"></div><div class="line">struct Line &#123;</div><div class="line">    Point s, t;</div><div class="line">    Line(Point s, Point t): s(s), t(t) &#123;&#125;</div><div class="line">    Line() &#123;&#125;</div><div class="line">    void read() &#123;</div><div class="line">        s.read(); t.read();</div><div class="line">    &#125;</div><div class="line">&#125;ls[maxn];</div><div class="line"></div><div class="line"></div><div class="line">bool strict_cross(Line a, Line b) &#123;</div><div class="line">    return sgn((b.t - b.s).det(a.s - b.s)) * sgn((b.t - b.s).det(a.t - b.s)) &lt; 0 &amp;&amp;</div><div class="line">        sgn((a.t - a.s).det(b.s - a.s)) * sgn((a.t - a.s).det(b.t - a.s)) &lt; 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    Point X;</div><div class="line">    int cntps = 0;</div><div class="line">    ps[cntps++] = Point(0, 0);</div><div class="line">    // ps[cntps++] = Point(0, 100);</div><div class="line">    // ps[cntps++] = Point(100, 0);</div><div class="line">    // ps[cntps++] = Point(100, 100);</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        ls[i].read();</div><div class="line">        ps[cntps++] = ls[i].s;</div><div class="line">        ps[cntps++] = ls[i].t;</div><div class="line">    &#125;</div><div class="line">    X.read();</div><div class="line">    int ans = maxn;</div><div class="line">    for (int i = 0; i &lt; cntps; i++) &#123;</div><div class="line">        Line l(X, ps[i]);</div><div class="line">        int t = 1;</div><div class="line">        for (int j = 0; j &lt; n; j++) &#123;</div><div class="line">            if(strict_cross(l, ls[j])) &#123;</div><div class="line">                t++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        ans = min(ans,  t);</div><div class="line">    &#125;</div><div class="line">    printf("Number of doors = %d\n", ans);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给个矩形，给n条线段，每条线段均从矩形四边出发，到矩形四边结束。给出宝藏的坐标。问从外面进入宝藏所在的位置至少需要开几道门。门只能开在一条线段的中间。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;可以发现这样一个性质，从矩形边长上一个点，到达宝藏需要开的门的最少个数，等于宝藏所在点与此点连线与其他线段的交点数。所以枚举起点，暴力求线段交就好。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="计算几何" scheme="http://luoxinchen.me/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
      <category term="线段交" scheme="http://luoxinchen.me/tags/%E7%BA%BF%E6%AE%B5%E4%BA%A4/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-p</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-p/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-p/</id>
    <published>2016-09-09T03:34:02.000Z</published>
    <updated>2016-09-09T03:38:19.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2398<br>给一个矩形，然后k条线段讲其划分为k+1块，给n个点坐标，问对于每一个正数t，有多少块包含t个点</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>对线段排个序，然后用叉积判断点和线段的关系，二分查找点在哪一块<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">struct Point &#123;</div><div class="line">    ll x, y;</div><div class="line">    Point() &#123;&#125;</div><div class="line">    Point(ll x, ll y):x(x), y(y) &#123;&#125;</div><div class="line">    bool operator &lt; (const Point &amp;b) const &#123;</div><div class="line">        return x &lt; b.x;</div><div class="line">    &#125;</div><div class="line">    Point operator - (const Point &amp;b) const &#123;</div><div class="line">        return Point(x - b.x, y - b.y);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">typedef Point vec;</div><div class="line"></div><div class="line">ll cross_product(Point a, Point b) &#123;</div><div class="line">    return a.x * b.y - a.y * b.x;</div><div class="line">&#125;</div><div class="line"></div><div class="line">struct Line &#123;</div><div class="line">    Point s, t;</div><div class="line">    Line() &#123;&#125;</div><div class="line">    Line(Point s, Point t):s(s), t(t) &#123;&#125;</div><div class="line">    bool operator &lt; (const Line &amp;b) const &#123;</div><div class="line">        return s &lt; b.s;</div><div class="line">    &#125;</div><div class="line">    vec get_vec() &#123;</div><div class="line">        return t - s;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">const int maxn = 1000 + 5;</div><div class="line">Line ls[maxn];</div><div class="line">int n, m, X1, Y1, X2, Y2, cntls;</div><div class="line"></div><div class="line">bool judge(Line a, Line b) &#123;</div><div class="line">    return cross_product(a.get_vec(), b.get_vec()) &gt; 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int get_id(int x, int y) &#123;</div><div class="line">    int l = 0, r = cntls - 1;</div><div class="line">    while(l &lt; r - 1) &#123;</div><div class="line">        int m = (l + r) &gt;&gt; 1;</div><div class="line">        if(!judge(ls[m], Line(ls[m].s, Point(x, y)))) &#123;</div><div class="line">            l = m;</div><div class="line">        &#125; else &#123;</div><div class="line">            r = m;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return r;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int res[maxn];</div><div class="line">int cnt[maxn];</div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;m) == 2 &amp;&amp; n) &#123;</div><div class="line">        scanf("%d%d%d%d", &amp;X1, &amp;Y1, &amp;X2, &amp;Y2);</div><div class="line">        cntls = 0;</div><div class="line">        ls[cntls++] = Line(Point(X1, Y2), Point(X1, Y1));</div><div class="line">        ls[cntls++] = Line(Point(X2, Y2), Point(X2, Y1));</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int u, l;</div><div class="line">            scanf("%d%d", &amp;u, &amp;l);</div><div class="line">            ls[cntls++] = Line(Point(l, Y2), Point(u, Y1));</div><div class="line">        &#125;</div><div class="line">        sort(ls, ls + cntls);</div><div class="line">        memset(cnt, 0, sizeof(cnt));</div><div class="line">        memset(res, 0, sizeof(res));</div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            int x, y;</div><div class="line">            scanf("%d%d", &amp;x, &amp;y);</div><div class="line">            int id = get_id(x, y);</div><div class="line">            cnt[id]++;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for (int i = 0; i &lt; cntls; i++) &#123;</div><div class="line">            res[cnt[i]]++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        printf("Box\n");</div><div class="line">        for (int i = 1; i &lt;= m; i++) &#123;</div><div class="line">            if(res[i] &gt; 0) &#123;</div><div class="line">                printf("%d: %d\n", i, res[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2398&lt;br&gt;给一个矩形，然后k条线段讲其划分为k+1块，给n个点坐标，问对于每一个正数t，有多少块包含t个点&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;对线段排个序，然后用叉积判断点和线段的关系，二分查找点在哪一块&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="计算几何" scheme="http://luoxinchen.me/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-o</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-o/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-o/</id>
    <published>2016-09-09T03:22:07.000Z</published>
    <updated>2016-09-09T03:31:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 1797<br>给出每条道路的最大负载，求1到n之间最大负载的路径，输出这条路径的最大负载。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>最短路变形，把一条路径的长度规定为这条路径上的道路的最小负载，跑个最短路就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1e3 + 5;</div><div class="line">vector&lt;pii&gt; G[maxn];</div><div class="line">int d[maxn];</div><div class="line">int n, m;</div><div class="line"></div><div class="line">int bfs() &#123;</div><div class="line">    memset(d, -1, sizeof(d));</div><div class="line">    queue&lt;int&gt; que;</div><div class="line">    d[1] = inf;</div><div class="line">    que.push(1);</div><div class="line">    while(!que.empty()) &#123;</div><div class="line">        int u = que.front(); que.pop();</div><div class="line">        for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">            int v = G[u][i].xx;</div><div class="line">            int t = min(d[u], G[u][i].yy);</div><div class="line">            if(d[v] &lt; t) &#123;</div><div class="line">                d[v] = t;</div><div class="line">                que.push(v);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return d[n];</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        scanf("%d%d", &amp;n, &amp;m);</div><div class="line">        for (int i = 0; i &lt;= n; i++) G[i].clear();</div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            int u, v, c;</div><div class="line">            scanf("%d%d%d", &amp;u, &amp;v, &amp;c);</div><div class="line">            G[u].push_back(pii(v, c));</div><div class="line">            G[v].push_back(pii(u, c));</div><div class="line">        &#125;</div><div class="line">        printf("Scenario #%d:\n%d\n\n", Cas, bfs());</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 1797&lt;br&gt;给出每条道路的最大负载，求1到n之间最大负载的路径，输出这条路径的最大负载。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;最短路变形，把一条路径的长度规定为这条路径上的道路的最小负载，跑个最短路就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="最短路" scheme="http://luoxinchen.me/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-n</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-n/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-n/</id>
    <published>2016-09-09T03:12:56.000Z</published>
    <updated>2016-09-09T03:47:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2387<br>给个无向图，求1到n的最短距离</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>最短路裸题，随便跑个sfpa或者djikstra就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define xx first</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1000 + 5;</div><div class="line">int d[maxn];</div><div class="line">struct Edge &#123;</div><div class="line">    int  to, w;</div><div class="line">    Edge() &#123;&#125;</div><div class="line">    Edge(int to, int w):to(to), w(w) &#123;&#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">vector&lt;Edge&gt; G[maxn];</div><div class="line"></div><div class="line">int T, N;</div><div class="line">int dij() &#123;</div><div class="line">    memset(d, 0x3f, sizeof(d));</div><div class="line">    priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt; &gt; que;</div><div class="line">    d[1] = 0;</div><div class="line">    que.push(pii(d[1], 1));</div><div class="line">    while(!que.empty()) &#123;</div><div class="line">        pii cur = que.top(); que.pop();</div><div class="line">        int u = cur.yy, dist = cur.xx;</div><div class="line">        if(u == N) &#123;</div><div class="line">            return dist;</div><div class="line">        &#125;</div><div class="line">        for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">            int v = G[u][i].to;</div><div class="line">            if(d[v] &gt; d[u] + G[u][i].w) &#123;</div><div class="line">                d[v] = d[u] + G[u][i].w;</div><div class="line">                que.push(pii(d[v], v));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return -1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;T, &amp;N);</div><div class="line">    for (int i = 0; i &lt; T; i++) &#123;</div><div class="line">        int u, v, c;</div><div class="line">        scanf("%d%d%d", &amp;u, &amp;v, &amp;c);</div><div class="line">        G[u].push_back(Edge(v, c));</div><div class="line">        G[v].push_back(Edge(u, c));</div><div class="line">    &#125;</div><div class="line">    int ans = dij();</div><div class="line">    printf("%d\n", ans);</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2387&lt;br&gt;给个无向图，求1到n的最短距离&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;最短路裸题，随便跑个sfpa或者djikstra就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="最短路" scheme="http://luoxinchen.me/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-m</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-m/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-m/</id>
    <published>2016-09-09T02:49:40.000Z</published>
    <updated>2016-09-09T03:10:50.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>HDU 3401<br>知道第i天股票的买卖价格(APi, BPi), 和第i天最多能够买卖的数量(ASi, BSi).两个交易日之间必须相隔W天，任何时间不能拥有超过MaxP只股票。<br><a id="more"></a></p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>$$dp[i][j]$$ 表示第i天，拥有j只股票，最多能够赚多少钱。可以很容易推出<br>$dp[i][j] = max(dp[i-1][j], max(dp[r][k] - APi[i]<em>(j-k))(0&lt;r&lt;i-w,k&lt;j),max(dp[r][k]+BPi[i]</em>(k-j))(0<r<i-w,k>j))$<br>但是这个dp复杂度不够，然后我们可以发现通过化简，$dp[i-w-1] - APi[i]<em>(j-k) = dp[i-w-1][k] + APi[i][k] + APi[i]</em>k-APi[i]*j$ (k &lt; j),可以发现这个式子可以用单调队列优化。</r<i-w,k></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br> <em>Author        :mathon
 </em>Email         :luoxinchen96@gmail.com<br><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>/</p>
<p>#include <cstdio></cstdio></p>
<p>#include <cstring></cstring></p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include <cmath></cmath></p>
<p>#include <cstdlib></cstdlib></p>
<p>#include <ctime></ctime></p>
<p>#include <stack><br>using namespace std;<br>typedef pair<int, int=""> pii;<br>typedef long long ll;<br>typedef unsigned long long ull;</int,></stack></p>
<p>#define xx first</p>
<p>#define lowbit(x) (x&amp;-x)</p>
<p>#define yy second</p>
<p>#define pr(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; “ “</p>
<p>#define prln(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; endl<br>const ll inf = 0x3fffffff;<br>const int maxn = 2000 + 5;<br>int dp[maxn][maxn];</p>
<p>int ap[maxn], bp[maxn], as[maxn], bs[maxn];<br>int T, MaxP, W;<br>int que[maxn], head, tail;<br>int main(void) {</p>
<p>#ifdef MATHON<br>    //freopen(“in.txt”, “r”, stdin);<br>    //freopen(“out.txt”, “w”, stdout);</p>
<p>#endif<br>    int cas; scanf(“%d”, &amp;cas);<br>    while(cas–) {<br>        scanf(“%d%d%d”, &amp;T, &amp;MaxP, &amp;W);<br>        for (int i = 1; i &lt;= T; i++) {<br>            scanf(“%d%d%d%d”, &amp;ap[i], &amp;bp[i], &amp;as[i], &amp;bs[i]);<br>        }<br>        for (int i = 0; i &lt;= T; i++) {<br>            for (int j = 0; j &lt;= MaxP; j++) {<br>                dp[i][j] = -inf;<br>            }<br>        }</p>
<pre><code>    for (int i = 1; i &lt;= W + 1; i++) {
        for (int j = 0; j &lt;= as[i]; j++) {
            dp[i][j] = max(dp[i][j], -ap[i] * j);
        }
    }

    for (int i = 2; i &lt;= T; i++) {
        for (int j = 0; j &lt;= MaxP; j++) {
            dp[i][j] = max(dp[i][j], dp[i-1][j]);
        }
        if (i &gt; W + 1) {
            head = tail = 0;
            for (int j = 0; j &lt;= MaxP; j++) {
                while(tail &gt; head &amp;&amp; que[tail-1] &lt; dp[i-W-1][j] + ap[i] * j) tail--;
                que[tail++] = dp[i-W-1][j] + ap[i] * j;
                dp[i][j] = max(dp[i][j], que[head] - ap[i] * j);
                if(j - as[i] &gt;= 0) {
                    if(que[head] == dp[i-W-1][j-as[i]] + ap[i] * (j-as[i])) head++;
                }
            }

            head = tail = 0;
            for (int j = MaxP; j &gt;= 0; j--) {
                while(tail &gt; head &amp;&amp; que[tail-1] &lt; dp[i-W-1][j] + bp[i] * j) tail--;
                que[tail++] = dp[i-W-1][j] + bp[i] * j;
                dp[i][j] = max(dp[i][j], que[head] - bp[i] * j);
                if(j + bs[i] &lt;= MaxP) {
                    if(que[head] == dp[i-W-1][j+bs[i]] + bp[i] * (j+bs[i])) head++;
                }
            }
        }
    }
    int ans = 0;
    for (int j = 0; j &lt;= MaxP; j++) {
        ans = max(ans, dp[T][j]);
    }
    cout &lt;&lt; ans &lt;&lt; endl;
}
return 0;
</code></pre><p>}<br>```</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;HDU 3401&lt;br&gt;知道第i天股票的买卖价格(APi, BPi), 和第i天最多能够买卖的数量(ASi, BSi).两个交易日之间必须相隔W天，任何时间不能拥有超过MaxP只股票。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="DP" scheme="http://luoxinchen.me/tags/DP/"/>
    
      <category term="单调队列" scheme="http://luoxinchen.me/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-l</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-l/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-l/</id>
    <published>2016-09-09T02:39:46.000Z</published>
    <updated>2016-09-09T02:46:27.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>n行m列棋盘放k个石子。问第一行,第一列,最后一行,最后一列必须有石子有多少种放法。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>2^n 容斥一下<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define yy second</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int mod = 1000007;</div><div class="line">const int maxn = 500 + 5;</div><div class="line">int C[maxn][maxn];</div><div class="line"></div><div class="line">void init() &#123;</div><div class="line">    for (int i = 0; i &lt; maxn; i++) &#123;</div><div class="line">        C[i][0] = 1; C[i][i] = 1;</div><div class="line">    &#125;</div><div class="line">    for (int i = 2; i &lt; maxn; i++) &#123;</div><div class="line">        for (int j = 1; j &lt; i; j++) &#123;</div><div class="line">            C[i][j] = (C[i-1][j-1] + C[i-1][j]) % mod;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int N, M, K;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    init();</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        scanf("%d%d%d", &amp;N, &amp;M, &amp;K);</div><div class="line">        int ans = 0;</div><div class="line">        for (int mask = 1; mask &lt; 16; mask++) &#123;</div><div class="line">            int r = N, c = M, b = 0;</div><div class="line">            if(mask &amp; 1) r--, b++;</div><div class="line">            if(mask &amp; 2) r--, b++;</div><div class="line">            if(mask &amp; 4) c--, b++;</div><div class="line">            if(mask &amp; 8) c--, b++;</div><div class="line">            if(b % 2 == 1) &#123;</div><div class="line">                ans = (ans + C[r * c][K] + mod) % mod;</div><div class="line">            &#125; else &#123;</div><div class="line">                ans = (ans + mod - C[r * c][K]) % mod;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        // prln(ans);</div><div class="line">        ans = ((C[N*M][K] - ans) % mod + mod) % mod;</div><div class="line">        printf("Case %d: %d\n", Cas, ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;n行m列棋盘放k个石子。问第一行,第一列,最后一行,最后一列必须有石子有多少种放法。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;2^n 容斥一下&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="容斥" scheme="http://luoxinchen.me/tags/%E5%AE%B9%E6%96%A5/"/>
    
  </entry>
  
</feed>
