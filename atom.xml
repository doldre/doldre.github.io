<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xinchen&#39;s Blog</title>
  <subtitle>For you thousands of times.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://luoxinchen.me/"/>
  <updated>2016-09-09T03:49:54.000Z</updated>
  <id>http://luoxinchen.me/</id>
  
  <author>
    <name>Xinchen Luo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>暑期集训-7-4-q</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-q/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-q/</id>
    <published>2016-09-09T03:38:59.000Z</published>
    <updated>2016-09-09T03:49:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给个矩形，给n条线段，每条线段均从矩形四边出发，到矩形四边结束。给出宝藏的坐标。问从外面进入宝藏所在的位置至少需要开几道门。门只能开在一条线段的中间。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>可以发现这样一个性质，从矩形边长上一个点，到达宝藏需要开的门的最少个数，等于宝藏所在点与此点连线与其他线段的交点数。所以枚举起点，暴力求线段交就好。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 300 + 5;</div><div class="line">const double eps = 1e-9;</div><div class="line"></div><div class="line">int sgn(double x) &#123;</div><div class="line">    if(x &gt; eps) return 1;</div><div class="line">    else if(x &lt; -eps) return -1;</div><div class="line">    else return 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">struct Point &#123;</div><div class="line">    double x, y;</div><div class="line">    Point() &#123;&#125;</div><div class="line">    Point(double x, double y):x(x), y(y) &#123;&#125;</div><div class="line">    void read() &#123;</div><div class="line">        scanf("%lf%lf", &amp;x, &amp;y);</div><div class="line">    &#125;</div><div class="line">    double det(const Point &amp;b) const &#123;</div><div class="line">        return x * b.y - y * b.x;</div><div class="line">    &#125;</div><div class="line">    double dot(const Point &amp;b) const &#123;</div><div class="line">        return x * b.x + y * b.y;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Point operator - (const Point &amp;b) const &#123;</div><div class="line">        return Point(x - b.x, y - b.y);</div><div class="line">    &#125;</div><div class="line">&#125;ps[maxn];</div><div class="line"></div><div class="line">struct Line &#123;</div><div class="line">    Point s, t;</div><div class="line">    Line(Point s, Point t): s(s), t(t) &#123;&#125;</div><div class="line">    Line() &#123;&#125;</div><div class="line">    void read() &#123;</div><div class="line">        s.read(); t.read();</div><div class="line">    &#125;</div><div class="line">&#125;ls[maxn];</div><div class="line"></div><div class="line"></div><div class="line">bool strict_cross(Line a, Line b) &#123;</div><div class="line">    return sgn((b.t - b.s).det(a.s - b.s)) * sgn((b.t - b.s).det(a.t - b.s)) &lt; 0 &amp;&amp;</div><div class="line">        sgn((a.t - a.s).det(b.s - a.s)) * sgn((a.t - a.s).det(b.t - a.s)) &lt; 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    Point X;</div><div class="line">    int cntps = 0;</div><div class="line">    ps[cntps++] = Point(0, 0);</div><div class="line">    // ps[cntps++] = Point(0, 100);</div><div class="line">    // ps[cntps++] = Point(100, 0);</div><div class="line">    // ps[cntps++] = Point(100, 100);</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        ls[i].read();</div><div class="line">        ps[cntps++] = ls[i].s;</div><div class="line">        ps[cntps++] = ls[i].t;</div><div class="line">    &#125;</div><div class="line">    X.read();</div><div class="line">    int ans = maxn;</div><div class="line">    for (int i = 0; i &lt; cntps; i++) &#123;</div><div class="line">        Line l(X, ps[i]);</div><div class="line">        int t = 1;</div><div class="line">        for (int j = 0; j &lt; n; j++) &#123;</div><div class="line">            if(strict_cross(l, ls[j])) &#123;</div><div class="line">                t++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        ans = min(ans,  t);</div><div class="line">    &#125;</div><div class="line">    printf("Number of doors = %d\n", ans);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给个矩形，给n条线段，每条线段均从矩形四边出发，到矩形四边结束。给出宝藏的坐标。问从外面进入宝藏所在的位置至少需要开几道门。门只能开在一条线段的中间。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;可以发现这样一个性质，从矩形边长上一个点，到达宝藏需要开的门的最少个数，等于宝藏所在点与此点连线与其他线段的交点数。所以枚举起点，暴力求线段交就好。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="计算几何" scheme="http://luoxinchen.me/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
      <category term="线段交" scheme="http://luoxinchen.me/tags/%E7%BA%BF%E6%AE%B5%E4%BA%A4/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-p</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-p/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-p/</id>
    <published>2016-09-09T03:34:02.000Z</published>
    <updated>2016-09-09T03:38:19.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2398<br>给一个矩形，然后k条线段讲其划分为k+1块，给n个点坐标，问对于每一个正数t，有多少块包含t个点</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>对线段排个序，然后用叉积判断点和线段的关系，二分查找点在哪一块<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">struct Point &#123;</div><div class="line">    ll x, y;</div><div class="line">    Point() &#123;&#125;</div><div class="line">    Point(ll x, ll y):x(x), y(y) &#123;&#125;</div><div class="line">    bool operator &lt; (const Point &amp;b) const &#123;</div><div class="line">        return x &lt; b.x;</div><div class="line">    &#125;</div><div class="line">    Point operator - (const Point &amp;b) const &#123;</div><div class="line">        return Point(x - b.x, y - b.y);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">typedef Point vec;</div><div class="line"></div><div class="line">ll cross_product(Point a, Point b) &#123;</div><div class="line">    return a.x * b.y - a.y * b.x;</div><div class="line">&#125;</div><div class="line"></div><div class="line">struct Line &#123;</div><div class="line">    Point s, t;</div><div class="line">    Line() &#123;&#125;</div><div class="line">    Line(Point s, Point t):s(s), t(t) &#123;&#125;</div><div class="line">    bool operator &lt; (const Line &amp;b) const &#123;</div><div class="line">        return s &lt; b.s;</div><div class="line">    &#125;</div><div class="line">    vec get_vec() &#123;</div><div class="line">        return t - s;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">const int maxn = 1000 + 5;</div><div class="line">Line ls[maxn];</div><div class="line">int n, m, X1, Y1, X2, Y2, cntls;</div><div class="line"></div><div class="line">bool judge(Line a, Line b) &#123;</div><div class="line">    return cross_product(a.get_vec(), b.get_vec()) &gt; 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int get_id(int x, int y) &#123;</div><div class="line">    int l = 0, r = cntls - 1;</div><div class="line">    while(l &lt; r - 1) &#123;</div><div class="line">        int m = (l + r) &gt;&gt; 1;</div><div class="line">        if(!judge(ls[m], Line(ls[m].s, Point(x, y)))) &#123;</div><div class="line">            l = m;</div><div class="line">        &#125; else &#123;</div><div class="line">            r = m;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return r;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int res[maxn];</div><div class="line">int cnt[maxn];</div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;m) == 2 &amp;&amp; n) &#123;</div><div class="line">        scanf("%d%d%d%d", &amp;X1, &amp;Y1, &amp;X2, &amp;Y2);</div><div class="line">        cntls = 0;</div><div class="line">        ls[cntls++] = Line(Point(X1, Y2), Point(X1, Y1));</div><div class="line">        ls[cntls++] = Line(Point(X2, Y2), Point(X2, Y1));</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int u, l;</div><div class="line">            scanf("%d%d", &amp;u, &amp;l);</div><div class="line">            ls[cntls++] = Line(Point(l, Y2), Point(u, Y1));</div><div class="line">        &#125;</div><div class="line">        sort(ls, ls + cntls);</div><div class="line">        memset(cnt, 0, sizeof(cnt));</div><div class="line">        memset(res, 0, sizeof(res));</div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            int x, y;</div><div class="line">            scanf("%d%d", &amp;x, &amp;y);</div><div class="line">            int id = get_id(x, y);</div><div class="line">            cnt[id]++;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for (int i = 0; i &lt; cntls; i++) &#123;</div><div class="line">            res[cnt[i]]++;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        printf("Box\n");</div><div class="line">        for (int i = 1; i &lt;= m; i++) &#123;</div><div class="line">            if(res[i] &gt; 0) &#123;</div><div class="line">                printf("%d: %d\n", i, res[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2398&lt;br&gt;给一个矩形，然后k条线段讲其划分为k+1块，给n个点坐标，问对于每一个正数t，有多少块包含t个点&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;对线段排个序，然后用叉积判断点和线段的关系，二分查找点在哪一块&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="计算几何" scheme="http://luoxinchen.me/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-o</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-o/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-o/</id>
    <published>2016-09-09T03:22:07.000Z</published>
    <updated>2016-09-09T03:31:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 1797<br>给出每条道路的最大负载，求1到n之间最大负载的路径，输出这条路径的最大负载。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>最短路变形，把一条路径的长度规定为这条路径上的道路的最小负载，跑个最短路就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1e3 + 5;</div><div class="line">vector&lt;pii&gt; G[maxn];</div><div class="line">int d[maxn];</div><div class="line">int n, m;</div><div class="line"></div><div class="line">int bfs() &#123;</div><div class="line">    memset(d, -1, sizeof(d));</div><div class="line">    queue&lt;int&gt; que;</div><div class="line">    d[1] = inf;</div><div class="line">    que.push(1);</div><div class="line">    while(!que.empty()) &#123;</div><div class="line">        int u = que.front(); que.pop();</div><div class="line">        for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">            int v = G[u][i].xx;</div><div class="line">            int t = min(d[u], G[u][i].yy);</div><div class="line">            if(d[v] &lt; t) &#123;</div><div class="line">                d[v] = t;</div><div class="line">                que.push(v);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return d[n];</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        scanf("%d%d", &amp;n, &amp;m);</div><div class="line">        for (int i = 0; i &lt;= n; i++) G[i].clear();</div><div class="line">        for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">            int u, v, c;</div><div class="line">            scanf("%d%d%d", &amp;u, &amp;v, &amp;c);</div><div class="line">            G[u].push_back(pii(v, c));</div><div class="line">            G[v].push_back(pii(u, c));</div><div class="line">        &#125;</div><div class="line">        printf("Scenario #%d:\n%d\n\n", Cas, bfs());</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 1797&lt;br&gt;给出每条道路的最大负载，求1到n之间最大负载的路径，输出这条路径的最大负载。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;最短路变形，把一条路径的长度规定为这条路径上的道路的最小负载，跑个最短路就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="最短路" scheme="http://luoxinchen.me/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-n</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-n/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-n/</id>
    <published>2016-09-09T03:12:56.000Z</published>
    <updated>2016-09-09T03:47:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2387<br>给个无向图，求1到n的最短距离</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>最短路裸题，随便跑个sfpa或者djikstra就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define xx first</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 1000 + 5;</div><div class="line">int d[maxn];</div><div class="line">struct Edge &#123;</div><div class="line">    int  to, w;</div><div class="line">    Edge() &#123;&#125;</div><div class="line">    Edge(int to, int w):to(to), w(w) &#123;&#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">vector&lt;Edge&gt; G[maxn];</div><div class="line"></div><div class="line">int T, N;</div><div class="line">int dij() &#123;</div><div class="line">    memset(d, 0x3f, sizeof(d));</div><div class="line">    priority_queue&lt;pii, vector&lt;pii&gt;, greater&lt;pii&gt; &gt; que;</div><div class="line">    d[1] = 0;</div><div class="line">    que.push(pii(d[1], 1));</div><div class="line">    while(!que.empty()) &#123;</div><div class="line">        pii cur = que.top(); que.pop();</div><div class="line">        int u = cur.yy, dist = cur.xx;</div><div class="line">        if(u == N) &#123;</div><div class="line">            return dist;</div><div class="line">        &#125;</div><div class="line">        for (int i = 0; i &lt; (int)G[u].size(); i++) &#123;</div><div class="line">            int v = G[u][i].to;</div><div class="line">            if(d[v] &gt; d[u] + G[u][i].w) &#123;</div><div class="line">                d[v] = d[u] + G[u][i].w;</div><div class="line">                que.push(pii(d[v], v));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return -1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;T, &amp;N);</div><div class="line">    for (int i = 0; i &lt; T; i++) &#123;</div><div class="line">        int u, v, c;</div><div class="line">        scanf("%d%d%d", &amp;u, &amp;v, &amp;c);</div><div class="line">        G[u].push_back(Edge(v, c));</div><div class="line">        G[v].push_back(Edge(u, c));</div><div class="line">    &#125;</div><div class="line">    int ans = dij();</div><div class="line">    printf("%d\n", ans);</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2387&lt;br&gt;给个无向图，求1到n的最短距离&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;最短路裸题，随便跑个sfpa或者djikstra就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="最短路" scheme="http://luoxinchen.me/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-m</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-m/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-m/</id>
    <published>2016-09-09T02:49:40.000Z</published>
    <updated>2016-09-09T03:10:50.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>HDU 3401<br>知道第i天股票的买卖价格(APi, BPi), 和第i天最多能够买卖的数量(ASi, BSi).两个交易日之间必须相隔W天，任何时间不能拥有超过MaxP只股票。<br><a id="more"></a></p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>$$dp[i][j]$$ 表示第i天，拥有j只股票，最多能够赚多少钱。可以很容易推出<br>$dp[i][j] = max(dp[i-1][j], max(dp[r][k] - APi[i]<em>(j-k))(0&lt;r&lt;i-w,k&lt;j),max(dp[r][k]+BPi[i]</em>(k-j))(0<r<i-w,k>j))$<br>但是这个dp复杂度不够，然后我们可以发现通过化简，$dp[i-w-1] - APi[i]<em>(j-k) = dp[i-w-1][k] + APi[i][k] + APi[i]</em>k-APi[i]*j$ (k &lt; j),可以发现这个式子可以用单调队列优化。</r<i-w,k></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br> <em>Author        :mathon
 </em>Email         :luoxinchen96@gmail.com<br><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>/</p>
<p>#include <cstdio></cstdio></p>
<p>#include <cstring></cstring></p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include <cmath></cmath></p>
<p>#include <cstdlib></cstdlib></p>
<p>#include <ctime></ctime></p>
<p>#include <stack><br>using namespace std;<br>typedef pair<int, int=""> pii;<br>typedef long long ll;<br>typedef unsigned long long ull;</int,></stack></p>
<p>#define xx first</p>
<p>#define lowbit(x) (x&amp;-x)</p>
<p>#define yy second</p>
<p>#define pr(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; “ “</p>
<p>#define prln(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; endl<br>const ll inf = 0x3fffffff;<br>const int maxn = 2000 + 5;<br>int dp[maxn][maxn];</p>
<p>int ap[maxn], bp[maxn], as[maxn], bs[maxn];<br>int T, MaxP, W;<br>int que[maxn], head, tail;<br>int main(void) {</p>
<p>#ifdef MATHON<br>    //freopen(“in.txt”, “r”, stdin);<br>    //freopen(“out.txt”, “w”, stdout);</p>
<p>#endif<br>    int cas; scanf(“%d”, &amp;cas);<br>    while(cas–) {<br>        scanf(“%d%d%d”, &amp;T, &amp;MaxP, &amp;W);<br>        for (int i = 1; i &lt;= T; i++) {<br>            scanf(“%d%d%d%d”, &amp;ap[i], &amp;bp[i], &amp;as[i], &amp;bs[i]);<br>        }<br>        for (int i = 0; i &lt;= T; i++) {<br>            for (int j = 0; j &lt;= MaxP; j++) {<br>                dp[i][j] = -inf;<br>            }<br>        }</p>
<pre><code>    for (int i = 1; i &lt;= W + 1; i++) {
        for (int j = 0; j &lt;= as[i]; j++) {
            dp[i][j] = max(dp[i][j], -ap[i] * j);
        }
    }

    for (int i = 2; i &lt;= T; i++) {
        for (int j = 0; j &lt;= MaxP; j++) {
            dp[i][j] = max(dp[i][j], dp[i-1][j]);
        }
        if (i &gt; W + 1) {
            head = tail = 0;
            for (int j = 0; j &lt;= MaxP; j++) {
                while(tail &gt; head &amp;&amp; que[tail-1] &lt; dp[i-W-1][j] + ap[i] * j) tail--;
                que[tail++] = dp[i-W-1][j] + ap[i] * j;
                dp[i][j] = max(dp[i][j], que[head] - ap[i] * j);
                if(j - as[i] &gt;= 0) {
                    if(que[head] == dp[i-W-1][j-as[i]] + ap[i] * (j-as[i])) head++;
                }
            }

            head = tail = 0;
            for (int j = MaxP; j &gt;= 0; j--) {
                while(tail &gt; head &amp;&amp; que[tail-1] &lt; dp[i-W-1][j] + bp[i] * j) tail--;
                que[tail++] = dp[i-W-1][j] + bp[i] * j;
                dp[i][j] = max(dp[i][j], que[head] - bp[i] * j);
                if(j + bs[i] &lt;= MaxP) {
                    if(que[head] == dp[i-W-1][j+bs[i]] + bp[i] * (j+bs[i])) head++;
                }
            }
        }
    }
    int ans = 0;
    for (int j = 0; j &lt;= MaxP; j++) {
        ans = max(ans, dp[T][j]);
    }
    cout &lt;&lt; ans &lt;&lt; endl;
}
return 0;
</code></pre><p>}<br>```</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;HDU 3401&lt;br&gt;知道第i天股票的买卖价格(APi, BPi), 和第i天最多能够买卖的数量(ASi, BSi).两个交易日之间必须相隔W天，任何时间不能拥有超过MaxP只股票。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="DP" scheme="http://luoxinchen.me/tags/DP/"/>
    
      <category term="单调队列" scheme="http://luoxinchen.me/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-l</title>
    <link href="http://luoxinchen.me/2016/09/09/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-l/"/>
    <id>http://luoxinchen.me/2016/09/09/暑期集训-7-4-l/</id>
    <published>2016-09-09T02:39:46.000Z</published>
    <updated>2016-09-09T02:46:27.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>n行m列棋盘放k个石子。问第一行,第一列,最后一行,最后一列必须有石子有多少种放法。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>2^n 容斥一下<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define yy second</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int mod = 1000007;</div><div class="line">const int maxn = 500 + 5;</div><div class="line">int C[maxn][maxn];</div><div class="line"></div><div class="line">void init() &#123;</div><div class="line">    for (int i = 0; i &lt; maxn; i++) &#123;</div><div class="line">        C[i][0] = 1; C[i][i] = 1;</div><div class="line">    &#125;</div><div class="line">    for (int i = 2; i &lt; maxn; i++) &#123;</div><div class="line">        for (int j = 1; j &lt; i; j++) &#123;</div><div class="line">            C[i][j] = (C[i-1][j-1] + C[i-1][j]) % mod;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int N, M, K;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    init();</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        scanf("%d%d%d", &amp;N, &amp;M, &amp;K);</div><div class="line">        int ans = 0;</div><div class="line">        for (int mask = 1; mask &lt; 16; mask++) &#123;</div><div class="line">            int r = N, c = M, b = 0;</div><div class="line">            if(mask &amp; 1) r--, b++;</div><div class="line">            if(mask &amp; 2) r--, b++;</div><div class="line">            if(mask &amp; 4) c--, b++;</div><div class="line">            if(mask &amp; 8) c--, b++;</div><div class="line">            if(b % 2 == 1) &#123;</div><div class="line">                ans = (ans + C[r * c][K] + mod) % mod;</div><div class="line">            &#125; else &#123;</div><div class="line">                ans = (ans + mod - C[r * c][K]) % mod;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        // prln(ans);</div><div class="line">        ans = ((C[N*M][K] - ans) % mod + mod) % mod;</div><div class="line">        printf("Case %d: %d\n", Cas, ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;n行m列棋盘放k个石子。问第一行,第一列,最后一行,最后一列必须有石子有多少种放法。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;2^n 容斥一下&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="容斥" scheme="http://luoxinchen.me/tags/%E5%AE%B9%E6%96%A5/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-k</title>
    <link href="http://luoxinchen.me/2016/09/06/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-k/"/>
    <id>http://luoxinchen.me/2016/09/06/暑期集训-7-4-k/</id>
    <published>2016-09-06T09:05:24.000Z</published>
    <updated>2016-09-09T03:43:39.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>从[1,n]中选3个数，问能组成多少个三角形。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>简单组合计数，推出公式就好了<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">const int maxn = 1e6 + 5;</div><div class="line">ll f[maxn];</div><div class="line">ll c(ll x) &#123;</div><div class="line">    return ((x - 2) * (x - 1) / 2 - (x - 1) / 2) / 2;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void init() &#123;</div><div class="line">    f[3] = 0;</div><div class="line">    for (int i = 4; i &lt; maxn; i++) &#123;</div><div class="line">        f[i] = f[i - 1] + c(i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    init();</div><div class="line">    int n;</div><div class="line">    while(cin &gt;&gt; n &amp;&amp; n &gt;= 3) &#123;</div><div class="line">        printf("%lld\n", f[n]);</div><div class="line">    &#125;</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;从[1,n]中选3个数，问能组成多少个三角形。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;简单组合计数，推出公式就好了&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="数学" scheme="http://luoxinchen.me/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-h</title>
    <link href="http://luoxinchen.me/2016/09/06/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-h/"/>
    <id>http://luoxinchen.me/2016/09/06/暑期集训-7-4-h/</id>
    <published>2016-09-06T05:14:13.000Z</published>
    <updated>2016-09-06T05:46:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>有n条鱼，每条鱼有一个权值vi,给个01矩阵，如果G[i][j]=1，那么第i条鱼可以攻击第j条鱼，并获得价值vi xor vj，每条鱼只能攻击一次。求能够最获得的最大价值和</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>很明显的最大权二分图匹配，对于G[i][j]=1,对i， j连边，边权为vi ^ vj，跑次KM算法。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 250;</div><div class="line">const int maxm = 25005;</div><div class="line">const int inf= 0x3f3f3f3f;</div><div class="line">char s[200];</div><div class="line">int a[maxn],mat[maxn][maxn];</div><div class="line">struct Edge&#123;</div><div class="line">	int to,next,cap,flow,cost;</div><div class="line">&#125;edge[maxm];</div><div class="line">int head[maxn],tot;</div><div class="line">int pre[maxn],dis[maxn];</div><div class="line">bool vis[maxn];int N;</div><div class="line">void init(int n)&#123;</div><div class="line">	N=n;</div><div class="line">	tot=0;</div><div class="line">	memset(head,-1,sizeof(head));</div><div class="line">&#125;</div><div class="line">void addedge(int u,int v,int cap,int cost)&#123;</div><div class="line">	edge[tot].to=v;</div><div class="line">	edge[tot].cap=cap;</div><div class="line">	edge[tot].cost=cost;</div><div class="line">	edge[tot].flow=0;</div><div class="line">	edge[tot].next=head[u];</div><div class="line">	head[u]=tot++;</div><div class="line">	edge[tot].to=u;</div><div class="line">	edge[tot].cap=0;</div><div class="line">	edge[tot].cost=-cost;</div><div class="line">	edge[tot].flow=0;</div><div class="line">	edge[tot].next=head[v];</div><div class="line">	head[v]=tot++; </div><div class="line">&#125; </div><div class="line">bool spfa(int s,int t)&#123;</div><div class="line">	queue&lt;int&gt; q;</div><div class="line">	for(int i=0;i&lt;N;i++)&#123;</div><div class="line">		dis[i]=inf;</div><div class="line">		vis[i]=false;</div><div class="line">		pre[i]=-1;</div><div class="line">	&#125; dis[s]=0;</div><div class="line">	vis[s]=true;</div><div class="line">	q.push(s);</div><div class="line">	while(!q.empty())&#123;</div><div class="line">		int u=q.front();</div><div class="line">		q.pop();</div><div class="line">		vis[u]=false;</div><div class="line">		for(int i=head[u];i!=-1;i=edge[i].next)&#123;</div><div class="line">			int v=edge[i].to;</div><div class="line">			if(edge[i].cap&gt;edge[i].flow&amp;&amp;dis[v]&gt;dis[u]+edge[i].cost)&#123;</div><div class="line">				dis[v]=dis[u]+edge[i].cost;</div><div class="line">				pre[v]=i;</div><div class="line">				if(!vis[v])&#123;</div><div class="line">					vis[v]=true;</div><div class="line">					q.push(v);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;if(pre[t]==-1) return false;</div><div class="line">	else return true;</div><div class="line">&#125;</div><div class="line">int mincostmaxflow(int s,int t,int &amp;cost)&#123;</div><div class="line">	int flow=0;</div><div class="line">	cost=0;</div><div class="line">	while(spfa(s,t))&#123;</div><div class="line">		int Min=inf;</div><div class="line">		for(int i=pre[t];i!=-1;i=pre[edge[i^1].to])&#123;</div><div class="line">			if(Min&gt;edge[i].cap-edge[i].flow) Min=edge[i].cap-edge[i].flow;</div><div class="line">		&#125;for(int i=pre[t];i!=-1;i=pre[edge[i^1].to])&#123;</div><div class="line">			edge[i].flow+=Min;</div><div class="line">			edge[i^1].flow-=Min;</div><div class="line">			cost+=edge[i].cost*Min;</div><div class="line">		&#125;flow+=Min;</div><div class="line">	&#125;return flow;</div><div class="line">&#125;</div><div class="line"></div><div class="line">char str[maxn];</div><div class="line"></div><div class="line">int A[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    while(scanf("%d", &amp;n) == 1 &amp;&amp; n) &#123;</div><div class="line">        int s = 0, t = 2 * n + 1;</div><div class="line">        init(2*n + 2);</div><div class="line">        for(int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            scanf("%d", &amp;A[i]);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            addedge(s, i, 1, 0);</div><div class="line">            addedge(i, t, 1, 0);</div><div class="line">            addedge(i + n, t, 1, 0);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            scanf("%s", str + 1);</div><div class="line">            for (int j = 1; j &lt;= n; j++) &#123;</div><div class="line">                if(str[j] == '1') &#123;</div><div class="line">                    addedge(i, j + n, 1, -(A[i]^A[j]));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        int cost;</div><div class="line">        mincostmaxflow(s, t, cost);</div><div class="line">        printf("%d\n", -cost);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;有n条鱼，每条鱼有一个权值vi,给个01矩阵，如果G[i][j]=1，那么第i条鱼可以攻击第j条鱼，并获得价值vi xor vj，每条鱼只能攻击一次。求能够最获得的最大价值和&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;很明显的最大权二分图匹配，对于G[i][j]=1,对i， j连边，边权为vi ^ vj，跑次KM算法。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="二分图匹配" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86%E5%9B%BE%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-g</title>
    <link href="http://luoxinchen.me/2016/09/06/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-g/"/>
    <id>http://luoxinchen.me/2016/09/06/暑期集训-7-4-g/</id>
    <published>2016-09-06T04:39:43.000Z</published>
    <updated>2016-09-09T03:48:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>K个产奶机，C头奶牛，每个产奶机最多可供M头奶牛使用。给出产奶机和奶牛之间的距离矩阵。问如何安排使得每头奶牛都有一个产奶机，并且使得奶牛到产奶机的最远距离最短。求最短距离。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>二分最远距离，对于小于此距离的边建图，跑最大流。做法还是很裸的。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 300 + 5;</div><div class="line">const int maxv = 300 + 5;</div><div class="line">int d[maxn][maxn];</div><div class="line"></div><div class="line">struct Dinic &#123;</div><div class="line">    struct edge &#123;</div><div class="line">        int to, cap, rev; </div><div class="line">        edge() &#123;&#125;</div><div class="line">        edge(int to, int cap, int rev):to(to), cap(cap), rev(rev) &#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    </div><div class="line">    vector&lt;edge&gt; G[maxv];</div><div class="line">    int num_v;</div><div class="line">    int level[maxv];</div><div class="line">    int iter[maxv];</div><div class="line"></div><div class="line">    void add_edge(int from, int to, int cap) &#123;</div><div class="line">        G[from].push_back(edge(to, cap, (int)G[to].size()));</div><div class="line">        G[to].push_back(edge(from, 0, (int)G[from].size() - 1));</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    void init(int num_v) &#123;</div><div class="line">        this-&gt;num_v = num_v;</div><div class="line">        for (int i = 0; i &lt;= num_v; i++) G[i].clear();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void bfs(int s) &#123;</div><div class="line">        memset(level, -1, sizeof(level));</div><div class="line">        queue&lt;int&gt; que;</div><div class="line">        level[s] = 0;</div><div class="line">        que.push(s);</div><div class="line">        while(!que.empty()) &#123;</div><div class="line">            int v = que.front(); que.pop();</div><div class="line">            for (int i = 0; i &lt; (int)G[v].size(); i++) &#123;</div><div class="line">                edge &amp;e = G[v][i];</div><div class="line">                if (e.cap &gt; 0 &amp;&amp; level[e.to] &lt; 0) &#123;</div><div class="line">                    level[e.to] = level[v] + 1;</div><div class="line">                    que.push(e.to);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int dfs(int v, int t, int f) &#123;</div><div class="line">        if (v == t) return f;</div><div class="line">        for (int &amp;i = iter[v]; i &lt; (int)G[v].size(); i++) &#123;</div><div class="line">            edge &amp;e = G[v][i];</div><div class="line">            if (e.cap &gt; 0 &amp;&amp; level[v] &lt; level[e.to]) &#123;</div><div class="line">                int d = dfs(e.to, t, min(f, e.cap));</div><div class="line">                if( d &gt; 0) &#123;</div><div class="line">                    e.cap -= d;</div><div class="line">                    G[e.to][e.rev].cap += d;</div><div class="line">                    return d;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int max_flow(int s, int t) &#123;</div><div class="line">        int flow = 0;</div><div class="line">        for (;;) &#123;</div><div class="line">            bfs(s);</div><div class="line">            if(level[t] &lt; 0) return flow;</div><div class="line">            memset(iter, 0, sizeof(iter));</div><div class="line">            int f;</div><div class="line">            while((f = dfs(s, t, inf)) &gt; 0) &#123;</div><div class="line">                flow += f;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;dinic;</div><div class="line"></div><div class="line">int K, C, M;</div><div class="line"></div><div class="line">bool judge(int x) &#123;</div><div class="line">    int s = 0, t = K + C + 1;</div><div class="line">    dinic.init(t + 1);</div><div class="line">    for (int i = 1; i &lt;= K; i++) &#123;</div><div class="line">        dinic.add_edge(i, t, M);</div><div class="line">    &#125;</div><div class="line">    for (int i = K + 1; i &lt;= K + C; i++) &#123;</div><div class="line">        dinic.add_edge(s, i, 1);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    for (int i = 1; i &lt;= K; i++) &#123;</div><div class="line">        for (int j = K + 1; j &lt;= K + C; j++) &#123;</div><div class="line">            if(d[i][j] &lt;= x) &#123;</div><div class="line">                dinic.add_edge(j, i, 1);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;    </div><div class="line">    </div><div class="line">    return dinic.max_flow(s, t) == C;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d%d", &amp;K, &amp;C, &amp;M) == 3) &#123;</div><div class="line">        for (int i = 1; i &lt;= K + C; i++) &#123;</div><div class="line">            for (int j = 1; j &lt;= K + C; j++) &#123;</div><div class="line">                int x; scanf("%d", &amp;x);</div><div class="line">                if(x == 0) x = inf;</div><div class="line">                d[i][j] = x;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for (int k = 1; k &lt;= K + C; k++) &#123;</div><div class="line">            for (int i = 1; i &lt;= K + C; i++) &#123;</div><div class="line">                for (int j = 1; j &lt;= K + C; j++) &#123;</div><div class="line">                    d[i][j] = min(d[i][j], d[i][k] + d[k][j]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        int l = 0, r = inf;</div><div class="line">        while(l &lt; r - 1) &#123;</div><div class="line">            int m = (l + r) &gt;&gt; 1;</div><div class="line">            if(judge(m)) &#123;</div><div class="line">                r = m;</div><div class="line">            &#125; else l = m;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", r);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;K个产奶机，C头奶牛，每个产奶机最多可供M头奶牛使用。给出产奶机和奶牛之间的距离矩阵。问如何安排使得每头奶牛都有一个产奶机，并且使得奶牛到产奶机的最远距离最短。求最短距离。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;二分最远距离，对于小于此距离的边建图，跑最大流。做法还是很裸的。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="二分" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="网络流" scheme="http://luoxinchen.me/tags/%E7%BD%91%E7%BB%9C%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-f</title>
    <link href="http://luoxinchen.me/2016/09/06/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-f/"/>
    <id>http://luoxinchen.me/2016/09/06/暑期集训-7-4-f/</id>
    <published>2016-09-06T04:09:33.000Z</published>
    <updated>2016-09-06T04:38:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>HDU 4864<br>有n个机器，m个任务。每个机器至多能完成一个任务。每个机器有个最大运行时间xi和等级yi,对于每个任务j,只有当xi&gt;=xj,yi&gt;=yj时，机器i才能完成任务j。如果完成任务可以获得$500<em>xj+2</em>yj$的金钱。问最多可以完成几个任务，出现多种情况时，最多能获得多少金钱。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>贪心。讲任务按照二元组(x,y)，从大到小排序，机器按照y值不同装入不同的桶里，对于每个桶按照x从小到大排序。然后贪心的对任务和机器配对。<br>证明:对于当前任务j,机器i,如果存在其他任务(xk, yk)能够使用此机器，那么xj&gt;=xk，则当前任务获得金钱更多，如果不存在任务(xk, yk)能够使用此机器，那么当前完成任务数更多。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; &quot; &quot; &lt;&lt; x &lt;&lt; &quot; &quot;</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; &quot; &quot; &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e5 + 7;</div><div class="line">const int maxy = 100 + 5;</div><div class="line">int sta[maxy][maxn];</div><div class="line">int pos[maxy];</div><div class="line">pii task[maxn];</div><div class="line">int N, M;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</div><div class="line">    //freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);</div><div class="line">#endif</div><div class="line">    while(scanf(&quot;%d%d&quot;, &amp;N, &amp;M) == 2) &#123;</div><div class="line">        memset(pos, 0, sizeof(pos));</div><div class="line">        for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">            int x, y; scanf(&quot;%d%d&quot;, &amp;x, &amp;y);</div><div class="line">            sta[y][pos[y]++] = x;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">            int x, y; scanf(&quot;%d%d&quot;, &amp;x, &amp;y);</div><div class="line">            task[i] = pii(x, y);</div><div class="line">        &#125;</div><div class="line">        for (int i = 0; i &lt; maxy; i++) &#123;</div><div class="line">            sort(sta[i], sta[i] + pos[i]);</div><div class="line">        &#125;</div><div class="line">        sort(task, task + M, greater&lt;pii&gt;() );</div><div class="line"></div><div class="line">        ll num = 0, money = 0;</div><div class="line">        for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">            int x = task[i].xx, y = task[i].yy;</div><div class="line">            for (int j = y; j &lt;= 100; j++) &#123;</div><div class="line">                if(pos[j] &gt; 0 &amp;&amp; sta[j][pos[j] - 1] &gt;= x) &#123;</div><div class="line">                    num++;</div><div class="line">                    money += x * 500 + 2 * y;</div><div class="line">                    pos[j]--;</div><div class="line">                    break;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        cout &lt;&lt; num &lt;&lt; &quot; &quot; &lt;&lt; money &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;HDU 4864&lt;br&gt;有n个机器，m个任务。每个机器至多能完成一个任务。每个机器有个最大运行时间xi和等级yi,对于每个任务j,只有当xi&amp;gt;=xj,yi&amp;gt;=yj时，机器i才能完成任务j。如果完成任务可以获得$500&lt;em&gt;xj+2&lt;/em&gt;yj$的金钱。问最多可以完成几个任务，出现多种情况时，最多能获得多少金钱。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;贪心。讲任务按照二元组(x,y)，从大到小排序，机器按照y值不同装入不同的桶里，对于每个桶按照x从小到大排序。然后贪心的对任务和机器配对。&lt;br&gt;证明:对于当前任务j,机器i,如果存在其他任务(xk, yk)能够使用此机器，那么xj&amp;gt;=xk，则当前任务获得金钱更多，如果不存在任务(xk, yk)能够使用此机器，那么当前完成任务数更多。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="贪心" scheme="http://luoxinchen.me/tags/%E8%B4%AA%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-e</title>
    <link href="http://luoxinchen.me/2016/09/06/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-e/"/>
    <id>http://luoxinchen.me/2016/09/06/暑期集训-7-4-e/</id>
    <published>2016-09-06T03:04:14.000Z</published>
    <updated>2016-09-09T03:48:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给两个字符串，有四种操作，添加，删除，修改，复制。问把第一个字符串转化为第二个的最少步数。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>贪心<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    string s1, s2;</div><div class="line">    while(cin &gt;&gt; s1 &gt;&gt; s2) &#123;</div><div class="line">        int len1 = (int)s1.size(), len2 = (int)s2.size();</div><div class="line">        if(len1 &gt; len2) &#123;</div><div class="line">            int d = len1 - len2;</div><div class="line">            for (int i = 0; i &lt; d; i++) &#123;</div><div class="line">                printf("d %c\n", s1[i]);</div><div class="line">            &#125;</div><div class="line">            for (int i = 0; i &lt; len2; i++) &#123;</div><div class="line">                printf("m %c\n", s2[i]);</div><div class="line">            &#125;</div><div class="line">        &#125; else &#123;</div><div class="line">            int d = len2 - len1;</div><div class="line">            for (int i = 0; i &lt; d; i++) &#123;</div><div class="line">                printf("a %c\n", s2[i]);</div><div class="line">            &#125;</div><div class="line">            for (int i = d; i &lt; len2; i++) &#123;</div><div class="line">                printf("m %c\n", s2[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给两个字符串，有四种操作，添加，删除，修改，复制。问把第一个字符串转化为第二个的最少步数。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;贪心&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="贪心" scheme="http://luoxinchen.me/tags/%E8%B4%AA%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-d</title>
    <link href="http://luoxinchen.me/2016/09/05/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-d/"/>
    <id>http://luoxinchen.me/2016/09/05/暑期集训-7-4-d/</id>
    <published>2016-09-05T08:59:44.000Z</published>
    <updated>2016-09-09T03:48:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给一个n*m的矩阵，其中随着时间增长会出现一些障碍，问矩阵上端和下端开始隔开的时间</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><ol>
<li>二分时间，判断是否联通</li>
<li>并查集</li>
</ol>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><a id="more"></a>
<p>并查集代码:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">const int maxn = 500 + 5;</div><div class="line">int mp[maxn][maxn];</div><div class="line">struct DSU &#123;</div><div class="line">    int par[maxn*maxn], n;</div><div class="line">    void init(int n) &#123;</div><div class="line">        this-&gt;n = n;</div><div class="line">        for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">            par[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int find(int x) &#123;</div><div class="line">        return x == par[x] ? x : par[x] = find(par[x]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void merge(int a, int b) &#123;</div><div class="line">        a = find(a), b = find(b);</div><div class="line">        par[b] = a;</div><div class="line">    &#125;</div><div class="line">&#125;dsu;</div><div class="line"></div><div class="line">int T, N, M, Q;</div><div class="line">char str[maxn];</div><div class="line"></div><div class="line">const int dx[] = &#123;-1, 1, 0, 0&#125;;</div><div class="line">const int dy[] = &#123;0, 0, -1, 1&#125;;</div><div class="line"></div><div class="line">int id(int x, int y) &#123;</div><div class="line">    return x * M + y + 1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int s, t;</div><div class="line">void work(int x, int y) &#123;</div><div class="line">    if(x == 0) &#123;</div><div class="line">        dsu.merge(s, id(x, y));</div><div class="line">    &#125;</div><div class="line">    if(x == N - 1) &#123;</div><div class="line">        dsu.merge(t, id(x, y));</div><div class="line">    &#125;</div><div class="line">    for (int i = 0; i &lt; 4; i++) &#123;</div><div class="line">        int nx = x + dx[i], ny = y + dy[i];</div><div class="line">        if(nx &gt;= 0 &amp;&amp; nx &lt; N &amp;&amp; ny &gt;= 0 &amp;&amp; ny &lt; M) &#123;</div><div class="line">            if(mp[nx][ny] == 0) &#123;</div><div class="line">                dsu.merge(id(x, y), id(nx, ny));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int qx[maxn*maxn], qy[maxn*maxn];</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    while(T--) &#123;</div><div class="line">        scanf("%d%d", &amp;N, &amp;M);</div><div class="line">        for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">            scanf("%s", str);</div><div class="line">            for (int j = 0; j &lt; M; j++) &#123;</div><div class="line">                mp[i][j] = str[j] - '0';</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        scanf("%d", &amp;Q);</div><div class="line">        for (int i = 1; i &lt;= Q; i++) &#123;</div><div class="line">            scanf("%d%d", &amp;qx[i], &amp;qy[i]);</div><div class="line">            mp[qx[i]][qy[i]] = 1;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        dsu.init(N*M + 1);</div><div class="line">        s = 0, t = N * M + 1;</div><div class="line">            </div><div class="line">        for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; M; j++) &#123;</div><div class="line">                if(mp[i][j] == 0) &#123;</div><div class="line">                    work(i, j);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        if(dsu.find(s) == dsu.find(t)) &#123;</div><div class="line">            printf("-1\n");</div><div class="line">        &#125; else &#123;</div><div class="line">            int i;</div><div class="line">            for (i = Q; i &gt;= 1; i--) &#123;</div><div class="line">                mp[qx[i]][qy[i]] = 0;</div><div class="line">                work(qx[i], qy[i]);</div><div class="line">                if(dsu.find(s) == dsu.find(t)) &#123;</div><div class="line">                    printf("%d\n", i);</div><div class="line">                    break;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            if(i == 0) &#123;</div><div class="line">                printf("0\n");</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给一个n*m的矩阵，其中随着时间增长会出现一些障碍，问矩阵上端和下端开始隔开的时间&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;二分时间，判断是否联通&lt;/li&gt;
&lt;li&gt;并查集&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;headerlink&quot; title=&quot;代码&quot;&gt;&lt;/a&gt;代码&lt;/h2&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU" scheme="http://luoxinchen.me/tags/HDU/"/>
    
      <category term="并查集" scheme="http://luoxinchen.me/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
      <category term="二分" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-c</title>
    <link href="http://luoxinchen.me/2016/09/05/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-c/"/>
    <id>http://luoxinchen.me/2016/09/05/暑期集训-7-4-c/</id>
    <published>2016-09-05T08:32:39.000Z</published>
    <updated>2016-09-09T03:48:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 2912<br>n个人玩石头剪刀布，其中有一个人是裁判，剩下的人分成3组，每一组的人出同一手形，裁判可以人溢出。问能否判断谁是裁判。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>枚举裁判，并查集判断</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><a id="more"></a>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">const int maxn = 500 + 5;</div><div class="line">const int maxm = 2000 + 5;</div><div class="line">struct DSU &#123;</div><div class="line">    int par[maxn], r[maxn], n;</div><div class="line">    void init(int n) &#123;</div><div class="line">        this-&gt;n = n;</div><div class="line">        for (int i = 0; i &lt;= n; i++) &#123;</div><div class="line">            par[i] = i; r[i] = 0;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    int find(int x) &#123;</div><div class="line">        if(x != par[x]) &#123;</div><div class="line">            int fx = par[x];</div><div class="line">            par[x] = find(par[x]);</div><div class="line">            r[x] = (r[x] + r[fx]) % 3;</div><div class="line">        &#125;</div><div class="line">        return par[x];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    bool merge(int x, int y, int t) &#123;</div><div class="line">        int fx = find(x), fy = find(y);</div><div class="line">        if(fx == fy) &#123;</div><div class="line">            if((r[y] + t) % 3 != r[x]) return false;</div><div class="line">            else return true;</div><div class="line">        &#125; else &#123;</div><div class="line">            par[fx] = fy;</div><div class="line">            r[fx] = (r[y] -r[x] + t + 3) % 3;</div><div class="line">            return true;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;dsu;</div><div class="line"></div><div class="line">int N, M;</div><div class="line">int err[maxn], maxerr, cnt;</div><div class="line">int U[maxm], V[maxm], T[maxm];</div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d", &amp;N, &amp;M) != EOF) &#123;</div><div class="line">        for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">            char c;</div><div class="line">            // scanf("%d%c%d", &amp;U[i], &amp;c, &amp;V[i]);</div><div class="line">            scanf("%d", &amp;U[i]);</div><div class="line">            while((c = getchar()) == ' ');</div><div class="line">            scanf("%d", &amp;V[i]);</div><div class="line">            if(c == '=') T[i] = 0;</div><div class="line">            if(c == '&lt;') T[i] = 1;</div><div class="line">            if(c == '&gt;') T[i] = 2;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        maxerr = 0, cnt = 0;</div><div class="line">        int res = 0;</div><div class="line">        memset(err, -1, sizeof(err));</div><div class="line">        for (int judge = 0; judge &lt; N; judge++) &#123;</div><div class="line">            dsu.init(N);</div><div class="line">            for (int i = 0; i &lt; M; i++) &#123;</div><div class="line">                int x = U[i], y = V[i], t = T[i];</div><div class="line">                if(x == judge || y == judge) continue;</div><div class="line">                if(!dsu.merge(x, y, t)) &#123;</div><div class="line">                    err[judge] = i + 1;</div><div class="line">                    maxerr = max(maxerr, err[judge]);</div><div class="line">                    break;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            if(err[judge] == -1) &#123;</div><div class="line">                cnt++;</div><div class="line">                res = judge;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if(cnt == 0) &#123;</div><div class="line">            printf("Impossible\n");</div><div class="line">        &#125; else if(cnt == 1) &#123;</div><div class="line">            printf("Player %d can be determined to be the judge after %d lines\n", res, maxerr);</div><div class="line">        &#125; else if(cnt &gt; 1) &#123;</div><div class="line">            printf("Can not determine\n");</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 2912&lt;br&gt;n个人玩石头剪刀布，其中有一个人是裁判，剩下的人分成3组，每一组的人出同一手形，裁判可以人溢出。问能否判断谁是裁判。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;枚举裁判，并查集判断&lt;/p&gt;
&lt;h2 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;headerlink&quot; title=&quot;代码&quot;&gt;&lt;/a&gt;代码&lt;/h2&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="DSU" scheme="http://luoxinchen.me/tags/DSU/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-a</title>
    <link href="http://luoxinchen.me/2016/09/05/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-a/"/>
    <id>http://luoxinchen.me/2016/09/05/暑期集训-7-4-a/</id>
    <published>2016-09-05T07:40:39.000Z</published>
    <updated>2016-09-09T03:48:55.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>LightOJ 1027</p>
<blockquote>
<p>N 扇门，若这扇门权值xi为正，则花费|xi|的时间走出迷宫，否则花费|xi|时间回到原地。<br>求走出迷宫的期望。<br><a id="more"></a></p>
</blockquote>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>简单期望题</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">using namespace std;</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; " " </div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " = " &lt;&lt; x &lt;&lt; endl</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line"></div><div class="line">int gcd(int a, int b) &#123;</div><div class="line">    return b == 0 ? a : gcd(b, a % b);</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">#ifdef LOCAL</div><div class="line">	//freopen("in.txt", "r", stdin);</div><div class="line">	//freopen("out.txt", 'w', stdout);</div><div class="line">#endif</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        int n;</div><div class="line">        scanf("%d", &amp;n);</div><div class="line">        int a = 0, suma = 0, b = 0, sumb = 0;</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int x;</div><div class="line">            scanf("%d", &amp;x);</div><div class="line">            if(x &gt; 0) &#123;</div><div class="line">                a++; suma += x;</div><div class="line">            &#125; else &#123;</div><div class="line">                b++; sumb += -x;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        int p = suma + sumb;</div><div class="line">        int q = n - b;</div><div class="line">        printf("Case %d: ", Cas);</div><div class="line">        if(q == 0) &#123;</div><div class="line">            printf("inf\n");</div><div class="line">        &#125; else &#123;</div><div class="line">            int g = gcd(p, q);</div><div class="line">            printf("%d/%d\n", p / g, q / g);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;LightOJ 1027&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;N 扇门，若这扇门权值xi为正，则花费|xi|的时间走出迷宫，否则花费|xi|时间回到原地。&lt;br&gt;求走出迷宫的期望。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-4-b</title>
    <link href="http://luoxinchen.me/2016/09/05/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-4-b/"/>
    <id>http://luoxinchen.me/2016/09/05/暑期集训-7-4-b/</id>
    <published>2016-09-05T07:40:39.000Z</published>
    <updated>2016-09-09T03:49:02.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>SOJ 3596<br>KMP 水题<br><a id="more"></a></p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>kmp</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int mod = 835672545;</div><div class="line">const int maxn = 1000 + 5;</div><div class="line">char words[maxn][maxn];</div><div class="line">char str[maxn];</div><div class="line">int match[maxn][maxn];</div><div class="line">int n;</div><div class="line">int dp[maxn];</div><div class="line">int wordlen[maxn];</div><div class="line">int lenstr;</div><div class="line"></div><div class="line">struct KMP &#123;</div><div class="line">    int nxt[maxn];</div><div class="line">    void get_next(int words_num) &#123;</div><div class="line">        char *s = words[words_num];</div><div class="line">        int len = wordlen[words_num];</div><div class="line">        int i, k;</div><div class="line">        nxt[0] = k = -1;</div><div class="line">        for (i = 0; i &lt; len;) &#123;</div><div class="line">            if(k == -1 || s[i] == s[k]) &#123;</div><div class="line">                k++; i++;</div><div class="line">                nxt[i] = k;</div><div class="line">            &#125; else k = nxt[k];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void solve(int words_num) &#123;</div><div class="line">        char *w = words[words_num];</div><div class="line">        int lw = wordlen[words_num], lstr = lenstr;</div><div class="line">        int j = 0;</div><div class="line">        for (int i = 0; i &lt; lstr;) &#123;</div><div class="line">            if(j == -1 || w[j] ==str[i]) &#123;</div><div class="line">                i++; j++;</div><div class="line">                if(j == lw) &#123;</div><div class="line">                    match[words_num][i-1] = 1;</div><div class="line">                    j = nxt[j];</div><div class="line">                    // pr(j);</div><div class="line">                    // pr(words_num), prln(i);</div><div class="line">                &#125;</div><div class="line">            &#125; else &#123;</div><div class="line">                j = nxt[j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;kmp;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T; scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        scanf("%d", &amp;n);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            scanf("%s", words[i]);</div><div class="line">            wordlen[i] = strlen(words[i]);</div><div class="line">        &#125;</div><div class="line">        scanf("%s", str);</div><div class="line">        lenstr = strlen(str);</div><div class="line">        memset(match, 0, sizeof(match));</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            kmp.get_next(i);</div><div class="line">            kmp.solve(i);</div><div class="line">        &#125;</div><div class="line">        memset(dp, 0, sizeof(dp));</div><div class="line">        dp[0] = 1;</div><div class="line">        int len = strlen(str);</div><div class="line">        for (int i = 1; i &lt;= len; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; n; j++) &#123;</div><div class="line">                if(match[j][i-1]) &#123;</div><div class="line">                    dp[i] = (dp[i] + dp[i-wordlen[j]]) % mod;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", dp[len]);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;SOJ 3596&lt;br&gt;KMP 水题&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="LightOJ" scheme="http://luoxinchen.me/tags/LightOJ/"/>
    
  </entry>
  
  <entry>
    <title>斜率优化小结</title>
    <link href="http://luoxinchen.me/2016/05/10/2016-05-10-%E6%96%9C%E7%8E%87%E4%BC%98%E5%8C%96%E5%B0%8F%E7%BB%93/"/>
    <id>http://luoxinchen.me/2016/05/10/2016-05-10-斜率优化小结/</id>
    <published>2016-05-10T13:06:00.000Z</published>
    <updated>2016-09-09T03:50:50.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="单调队列优化"><a href="#单调队列优化" class="headerlink" title="单调队列优化"></a>单调队列优化</h2><p>在写斜率优化之前，我们来回顾一下单调队列优化的dp</p>
<ol>
<li>对于如下形式的dp方程<br>$$dp[i] = min{dp[j] + f(j)} (0 &lt; j &lt; i)$$<br>我们直接用一个变量维护(0, i)中dp[j] + f(j)的最小值即可</li>
</ol>
<p>2.对于如下形式的dp方程<br>$$dp[i] = min{dp[j] + f(j)} (i - m &lt; j &lt; i)$$<br>我们可以用一个单调队列维护一个(i - m, j)中dp[j] + f(j)的最小值，然后做到O(1)转移。</p>
<a id="more"></a>
<h2 id="斜率优化"><a href="#斜率优化" class="headerlink" title="斜率优化"></a>斜率优化</h2><h3 id="基本形式"><a href="#基本形式" class="headerlink" title="基本形式"></a>基本形式</h3><p>但是对于形如<br>$$dp[i] = min{dp[j] + f(i, j)} $$<br>的方程，无法做到O(1)计算$dp[j] + f(i, j)$的最小值，这时就需要斜率优化这个技巧来解决这个问题了。<br>令k &lt; j &lt; i，当我们更新dp[i]时，如果有dp[j] + f(i, j) 比dp[k] + f(i, k)更优，则有dp[j] + f(i, j) - (dp[k] + f(i, k) &lt; 0，对于这个不等式如果能够化解成如下形式<br>$$\frac {Y(j) - Y(k)} { X(j) - X(k)} &lt; f(i)$$<br>我们就能通过斜率优化这个dp了。<br>让我们来举一个例子: <a href="http://acm.hdu.edu.cn/showproblem.php?pid=3507" target="_blank" rel="external">hdu3507</a>  dp方程为<br>$$dp[i] = min{dp[j] + M + (sum[i] - sum[j])^2 (0 &lt; j &lt; i)}$$<br>令k &lt; j &lt; i，当有<br>$$dp[j] + M + (sum[i] - sum[j])^2 - (dp[k] + M + (sum[i] - sum[k])^2) &lt; 0  $$<br>从j转移到i, 比从k转移到i更优，变换此不等式可得:<br>$$\frac{(dp[j]+ sum[j]^2) - (dp[k] + sum[k]^2)}{sum[j] - sum[k]} &lt; 2sum[i]$$<br>令$Y(i) = dp[i] + sum[i]^2$, $X(i) = sum[i]$, $f(i) = 2sum[i]$则将此不等式化解为上述形式。</p>
<h3 id="优化方法"><a href="#优化方法" class="headerlink" title="优化方法:"></a>优化方法:</h3><p>可以发现，若满足$\frac {Y(j) - Y(k)} { X(j) - X(j)} &lt; f(i)$则j转移到i，比k转移到i更优，如果我们把(X(j), Y(j)), (X(k), Y(k))当成平面上的两个点Pj, Pk，这个不等式的含义即为若$ \overrightarrow{PjPk}$的斜率＜f(i)则，从j转移更优。<br>令grad(i, j)表示$\overrightarrow{PiPj}$的斜率，现在我们假设grad(i,j) &lt; grad(j, k)，若grad(i, j) &lt; f(I),则i比j更优，若grad(i, j) &gt; f(I), 则grad(j, k) &gt; f(I),那么从k转移比从j转移更优，当grad(i, j) &lt; grad(j, k)的时候，无论如何j转移到i都不会是最优。而这种情况恰好对应下图<br><img src="http://img.blog.csdn.net/20160510205214742" alt="这里写图片描述"><br>所以这种情况时，我们可以直接把j点删除，最后能够转移的点集只会存在这种图形，<img src="http://img.blog.csdn.net/20160510205342117" alt="这里写图片描述"><br>所以最后我们维护一个上凸集即可。<br>但是此时我们还是没有解决最终问题，如何才能找到转移到i点的最优的点呢。可以发现最后的点集一定是一个凸集，也就是斜率单调！！这样对于k &lt; j, grad(j,k) &lt; f(i),时更优，从图形特点我们可以发现如果j比k优，那么j点比所有比k小的点都优，所以对于每一个f(i),我们维护一个所有比i点小的凸集，二分查找斜率比f(i)小的编号最大的点，就是最优的转移点。如果f(i)也满足单调性，比如这道题，我们还可以直接维护一个单调队列就能解决这个问题。</p>
<h3 id="分治做法"><a href="#分治做法" class="headerlink" title="分治做法"></a>分治做法</h3><p>对于f(i)单调的这种情况，除了使用单调队列优化的斜率优化做，我们还有另外一种分治的做法，但是复杂度会变成O(nlogn) 比O(n)差。<br>当f(i)单调的时候，我们可以发现若a &gt; b,则f(a) &gt; f(b),设转移到a的最优点是c，转移到b的最优点是d，一定有c &gt; d。也就是转移到a的最优点一定大于等于转移到b的最优点。考虑这样的分治</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> dl, <span class="keyword">int</span> dr)</span> </span>&#123;</div><div class="line">	<span class="comment">//[l,r]表示现在更新[l,r]区间dp[i]的最优值</span></div><div class="line">	<span class="comment">//用j -&gt; f(i),表示j是更新f(i)最优值的最优点</span></div><div class="line">	<span class="comment">//那么[dl,dr]表示更新dp([l,r])的点，一定在[dl,dr]范围内</span></div><div class="line">	<span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>; </div><div class="line">	<span class="keyword">int</span> dm = dl;</div><div class="line">	<span class="keyword">int</span> g = inf;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = dl; i &lt;= dr; i++) &#123;</div><div class="line">		<span class="keyword">if</span>(g &lt; dp[i] + f(i, mid)) &#123;</div><div class="line">			g = dp[i] + f(i, mid);<span class="comment">//记录更新dp[mid]的最优</span></div><div class="line">			dm = i;<span class="comment">//记录更新dp[mid]的最优点</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	dp[mid] = g; <span class="comment">//更新dp[mid]的值</span></div><div class="line">	<span class="comment">//因为上文叙述的单调性，</span></div><div class="line">	<span class="comment">//更新[l,mid-1]的最优点，一定在[dl,dm]范围内</span></div><div class="line">	<span class="keyword">if</span>(l &lt; mid) dfs(l, mid - <span class="number">1</span>, dl, dm);</div><div class="line">	<span class="comment">//更新[mid+1,r]的最优点，一定在[dm,dr]范围内</span></div><div class="line">	<span class="keyword">if</span>(mid &lt; r) dfs(mid + <span class="number">1</span>, r, dm, dr);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以发现这个分治比起斜率优化，不仅写起来方便很多，并且适用的范围也更广。这个做法不局限于斜率单调，可以发现只要满足c是更新f(a)的最优点，d是更新f(b)的最优点，若a &gt; b 一定有 c &gt; d，则可以有这个分治做。</p>
<h2 id="PS"><a href="#PS" class="headerlink" title="PS:"></a>PS:</h2><p>这个做法是我在<a href="http://codeforces.com/contest/674/problem/C" target="_blank" rel="external">codeforces 674E</a>,跟Claris神犇的代码学会的<a href="http://codeforces.com/contest/674/submission/17794311" target="_blank" rel="external">solution</a>,在此特地感谢Claris.这个做法着实是非常的劲啊！多一个log，但是换来编码复杂度和通用性更广的解法。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;单调队列优化&quot;&gt;&lt;a href=&quot;#单调队列优化&quot; class=&quot;headerlink&quot; title=&quot;单调队列优化&quot;&gt;&lt;/a&gt;单调队列优化&lt;/h2&gt;&lt;p&gt;在写斜率优化之前，我们来回顾一下单调队列优化的dp&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对于如下形式的dp方程&lt;br&gt;$$dp[i] = min{dp[j] + f(j)} (0 &amp;lt; j &amp;lt; i)$$&lt;br&gt;我们直接用一个变量维护(0, i)中dp[j] + f(j)的最小值即可&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2.对于如下形式的dp方程&lt;br&gt;$$dp[i] = min{dp[j] + f(j)} (i - m &amp;lt; j &amp;lt; i)$$&lt;br&gt;我们可以用一个单调队列维护一个(i - m, j)中dp[j] + f(j)的最小值，然后做到O(1)转移。&lt;/p&gt;
    
    </summary>
    
      <category term="ACM" scheme="http://luoxinchen.me/categories/ACM/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="dp" scheme="http://luoxinchen.me/tags/dp/"/>
    
      <category term="斜率优化" scheme="http://luoxinchen.me/tags/%E6%96%9C%E7%8E%87%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces 652E Pursuit For Artifacts(Tarjan 缩点)</title>
    <link href="http://luoxinchen.me/2016/03/30/2016-03-30-Codeforces652EPursuitForArtifacts(Tarjan%E7%BC%A9%E7%82%B9)/"/>
    <id>http://luoxinchen.me/2016/03/30/2016-03-30-Codeforces652EPursuitForArtifacts(Tarjan缩点)/</id>
    <published>2016-03-30T07:14:00.000Z</published>
    <updated>2016-08-08T14:17:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>#Codeforces 652E Pursuit For Artifacts(Tarjan 缩点)<br>[TOC]</p>
<h2 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h2><blockquote>
<p>有n个岛，m座桥，某些桥上有宝藏，每条桥只能经过一次，给出起点岛a和终点岛b，问能否从a走到b并带走至&gt;少一个宝藏。</p>
</blockquote>
<a id="more"></a>
<h2 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h2><p>这道竟然是我的tarjan算法入门题，用tarjan缩点为树，如果是缩点后包含宝藏把这个点的权值设为非0，如果是桥，保留原来的权值，因为缩点后是一棵树，所以直接dfs找到从a到b的路径，看路径中是否含权值非零的点或边即可。</p>
<h2 id="PS："><a href="#PS：" class="headerlink" title="PS："></a>PS：</h2><p>在比赛时自己也是想了很多个解法的，但是最多也就跑过了第12组数据，看到了这个思路感觉确实很巧妙，看到某个大牛总结的，边只能走一次的这种情况大多需要用tarjan缩点为树。这道题学弟竟然用其他方法给ac，确实佩服。这道题也算是我学Tarjan后ac的第一道题吧，Tarjan算法着实是很优美！</p>
<h2 id="AC-CODE："><a href="#AC-CODE：" class="headerlink" title="AC CODE："></a>AC CODE：</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">300000</span> + <span class="number">5</span>;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">struct</span> Edge &#123;</div><div class="line">    <span class="keyword">int</span> v, c;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">int</span> dfn[maxn], low[maxn], isin[maxn], id[maxn], dfsNum, bcc;</div><div class="line"><span class="keyword">int</span> stk[maxn], top;</div><div class="line"><span class="built_in">vector</span>&lt;Edge&gt; G[maxn];</div><div class="line"><span class="built_in">vector</span>&lt;Edge&gt; T[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> f)</span> </span>&#123;</div><div class="line">    dfn[u] = low[u] = ++dfsNum;</div><div class="line">    stk[++top] = u;</div><div class="line">    isin[u] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (Edge e: G[u]) &#123;</div><div class="line">        <span class="keyword">int</span> v = e.v;</div><div class="line">        <span class="keyword">if</span>(v == f) <span class="keyword">continue</span>;</div><div class="line">        <span class="keyword">if</span>(!dfn[v]) &#123;</div><div class="line">            tarjan(v, u);</div><div class="line">            low[u] = min(low[u], low[v]);</div><div class="line">        &#125; <span class="keyword">else</span> low[u] = min(low[u], dfn[v]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(low[u] == dfn[u]) &#123;</div><div class="line">        ++bcc;</div><div class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</div><div class="line">            <span class="keyword">int</span> v = stk[top--];</div><div class="line">            isin[v] = <span class="literal">false</span>;</div><div class="line">            id[v] = bcc;</div><div class="line">            <span class="keyword">if</span>(v == u) <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan_init</span><span class="params">()</span> </span>&#123;</div><div class="line">     bcc = dfsNum = <span class="number">0</span>;</div><div class="line">     <span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span>(dfn));</div><div class="line">     tarjan(<span class="number">1</span>, <span class="number">-1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> val[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t, <span class="keyword">int</span> fa, <span class="keyword">int</span> sum)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(s == t) <span class="keyword">return</span> sum + val[t];</div><div class="line">    <span class="keyword">for</span> (Edge e: T[s]) &#123;</div><div class="line">         <span class="keyword">int</span> v = e.v;</div><div class="line">         <span class="keyword">if</span>(v == fa) <span class="keyword">continue</span>;</div><div class="line">         <span class="keyword">if</span>(dfs(v, t, s, sum + e.c +val[v])) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOCAL</span></div><div class="line">    freopen(<span class="string">"in.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</div><div class="line">        <span class="keyword">int</span> u, v, c;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;c);</div><div class="line">        G[u].push_back(&#123;v, c&#125;);</div><div class="line">        G[v].push_back(&#123;u, c&#125;);</div><div class="line">    &#125;</div><div class="line">    tarjan_init();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</div><div class="line">         <span class="keyword">int</span> u = id[i];</div><div class="line">         <span class="keyword">for</span> (Edge e: G[i]) &#123;</div><div class="line">             <span class="keyword">int</span> v = id[e.v];</div><div class="line">             <span class="keyword">if</span>(u == v) val[u] += e.c;</div><div class="line">             <span class="keyword">else</span> T[u].push_back(&#123;v, e.c&#125;);</div><div class="line">         &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> s, t;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;s, &amp;t);</div><div class="line">    <span class="built_in">puts</span>(dfs(id[s], id[t], <span class="number">-1</span>, val[id[s]]) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#Codeforces 652E Pursuit For Artifacts(Tarjan 缩点)&lt;br&gt;[TOC]&lt;/p&gt;
&lt;h2 id=&quot;题意：&quot;&gt;&lt;a href=&quot;#题意：&quot; class=&quot;headerlink&quot; title=&quot;题意：&quot;&gt;&lt;/a&gt;题意：&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;有n个岛，m座桥，某些桥上有宝藏，每条桥只能经过一次，给出起点岛a和终点岛b，问能否从a走到b并带走至&amp;gt;少一个宝藏。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hihocoder *Divisors*</title>
    <link href="http://luoxinchen.me/2016/03/18/2016-03-18-hihocoder*Divisors*/"/>
    <id>http://luoxinchen.me/2016/03/18/2016-03-18-hihocoder*Divisors*/</id>
    <published>2016-03-18T12:26:00.000Z</published>
    <updated>2016-08-08T14:17:29.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hihocoder-Divisors"><a href="#hihocoder-Divisors" class="headerlink" title="hihocoder Divisors"></a>hihocoder <em>Divisors</em></h1><h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><blockquote>
<p>   给定一个N，求不超过N的正整数中因子最多的数。如果有多个答案，输出最小的一个。</p>
</blockquote>
<a id="more"></a>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路:"></a>思路:</h2><p>最近做题可以明显发现自己的思维缺陷，容易陷入思维定式，看到这道题时，一眼觉得是个数论题，然后开始找质因数分解瞎猜结论，并没有仔细观察性质，最后这是一个搜索题，看了题解确实不难，性质也很容易发现，但是并没有认真去思考，解法确实很妙！<a href="http://hihocoder.com/discuss/question/2857/" target="_blank" rel="external">官方题解</a>写的非常好了，这里就不再累述。</p>
<h2 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code:"></a>AC Code:</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line">ll n;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-6</span>;</div><div class="line"><span class="keyword">bool</span> is_prime[maxn];</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prime;</div><div class="line"></div><div class="line">ll maxdivisors, result;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_prime</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">memset</span>(is_prime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(is_prime));</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++) &#123;</div><div class="line">        <span class="keyword">if</span>(is_prime[i]) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; maxn; j += i) &#123;</div><div class="line">                is_prime[j] = <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; maxn; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (is_prime[i]) prime.push_back(i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> prime_num, ll divisors, ll now, <span class="keyword">int</span> lastNi)</span> </span>&#123;</div><div class="line"><span class="comment">//    cout &lt;&lt; prime[prime_num] &lt;&lt; " " &lt;&lt; divisors &lt;&lt; " " &lt;&lt; now &lt;&lt; endl;</span></div><div class="line">    <span class="keyword">if</span> (prime[prime_num] &gt; n) &#123;</div><div class="line">         <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (divisors &gt; maxdivisors || (divisors == maxdivisors &amp;&amp; now &lt; result)) &#123;</div><div class="line">        maxdivisors = divisors;</div><div class="line">        result = now;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; <span class="keyword">double</span>(now)*prime[prime_num] &lt; <span class="keyword">double</span>(n) + eps &amp;&amp; i &lt;= lastNi; i++) &#123;</div><div class="line">        now *= prime[prime_num];</div><div class="line">        dfs(prime_num + <span class="number">1</span>, divisors*(i + <span class="number">1</span>), now, i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    make_prime();</div><div class="line">    maxdivisors = <span class="number">1</span>, result = <span class="number">1</span>;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">    dfs(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, inf);</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; result &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;hihocoder-Divisors&quot;&gt;&lt;a href=&quot;#hihocoder-Divisors&quot; class=&quot;headerlink&quot; title=&quot;hihocoder Divisors&quot;&gt;&lt;/a&gt;hihocoder &lt;em&gt;Divisors&lt;/em&gt;&lt;/h1&gt;&lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;   给定一个N，求不超过N的正整数中因子最多的数。如果有多个答案，输出最小的一个。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>约瑟夫环问题</title>
    <link href="http://luoxinchen.me/2016/03/13/2016-03-13-%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98/"/>
    <id>http://luoxinchen.me/2016/03/13/2016-03-13-约瑟夫环问题/</id>
    <published>2016-03-13T03:15:00.000Z</published>
    <updated>2016-08-08T14:17:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>#约瑟夫环问题</p>
<h3 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h3><blockquote>
<p>n个人围成一个圆圈依次编号为0,1,…,n-1，从第一个人开始，依次报数1, 2,…,k-1,报到k的人退出，从退出的下一个人开始继续从1报数，仍然报到k的人退出，问最后留下的人是谁。</p>
</blockquote>
<a id="more"></a>
<h3 id="朴素解法："><a href="#朴素解法：" class="headerlink" title="朴素解法："></a>朴素解法：</h3><p>这是一个c语言入门题，我们可以用数组或者链表来模拟整个过程得到最终结果。但是这样复杂度为O(n^2)，当n较大时没法算出结果。</p>
<h3 id="数学解法："><a href="#数学解法：" class="headerlink" title="数学解法："></a>数学解法：</h3><p>先来模拟一下过程，当n ＝ 8，k ＝ 3时</p>
<ol>
<li><p><strong>n = 8, k = 3</strong></p>
<blockquote>
<p><code>0 1 2 3 4 5 6 7</code><br>第一次编号为2的退出</p>
</blockquote>
</li>
<li><p><strong>n = 7, k = 3</strong></p>
<blockquote>
<p><code>0 1 3 4 5 6 7</code><br>这次将从3开始数，从新进行编号<br><code>3 4 5 6 7 0 1     (A)</code><br><code>0 1 2 3 4 5 6    (B)</code><br>可以发现从(B)式到(A)式有(A) = ((B) + k)%(n+1)</p>
</blockquote>
</li>
</ol>
<p>可以继续模拟下去，可以发现这个公式始终满足，显然我们知道当n==1的时候，最后留下的肯定为0，所以我们可以根据这个公式自底向上的计算下去了。</p>
<p>###代码：<br><strong>递归版本</strong>：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span></div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> (fun(n - <span class="number">1</span>, k) + k) % n;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>循环版本</strong>：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>;</div><div class="line"><span class="keyword">int</span> f[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">	f[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">		f[i] = (f[i<span class="number">-1</span>] + k) % n;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>很明显当有多次查询的时候，使用循环版本把答案一次算完可以避免重复计算，当然递归版本记忆化也是可以的。</p>
<h3 id="拓展："><a href="#拓展：" class="headerlink" title="拓展："></a>拓展：</h3><p>当然朴素的约瑟夫环肯定是一个送分题，这周bc就有一个简单拓展题目<br><a href="http://bestcoder.hdu.edu.cn/contests/contest_chineseproblem.php?cid=677&amp;pid=1004" target="_blank" rel="external">King’s Game</a><br><code>为了铭记历史，国王准备在阅兵的间隙玩约瑟夫游戏。它召来了 n(1\le n\le 5000)n(1≤n≤5000) 个士兵，逆时针围成一个圈，依次标号 1, 2, 3 ... n1,2,3...n。
第一轮第一个人从 11 开始报数，报到 11 就停止且报到 11 的这个人出局。
第二轮从上一轮出局的人的下一个人开始从 11 报数，报到 22 就停止且报到 22 的这个人出局。
第三轮从上一轮出局的人的下一个人开始从 11 报数，报到 33 就停止且报到 33 的这个人出局。
第 n - 1n−1 轮从上一轮出局的人的下一个人开始从 11 报数，报到 n - 1n−1 就停止且报到 n - 1n−1 的这个人出局。
最后剩余的人是幸存者，请问这个人的标号是多少？</code></p>
<p>如果理解朴素的约瑟夫环话，可以发现这里就是一个简单的递推变化，同样定义$f(n, k)$为有n个人时，第k个人退出剩下的人的编号，$f(n,k) = (f(n - 1, k + 1) + k) % n$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> (f(n - <span class="number">1</span>, k + <span class="number">1</span>) + k) % n;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>复杂度O(n)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#约瑟夫环问题&lt;/p&gt;
&lt;h3 id=&quot;问题描述：&quot;&gt;&lt;a href=&quot;#问题描述：&quot; class=&quot;headerlink&quot; title=&quot;问题描述：&quot;&gt;&lt;/a&gt;问题描述：&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;n个人围成一个圆圈依次编号为0,1,…,n-1，从第一个人开始，依次报数1, 2,…,k-1,报到k的人退出，从退出的下一个人开始继续从1报数，仍然报到k的人退出，问最后留下的人是谁。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>VIM YouCompleteMe 插件安装</title>
    <link href="http://luoxinchen.me/2016/01/23/2016-01-23-VIMYouCompleteMe%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    <id>http://luoxinchen.me/2016/01/23/2016-01-23-VIMYouCompleteMe插件安装/</id>
    <published>2016-01-23T13:06:16.000Z</published>
    <updated>2016-08-08T14:17:58.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>安装Bundle 插件</li>
<li>用 Bundle 插件安装 YouCompleteMe</li>
<li>换到YouCompleteMe目录 使用 install.py 安装，—clang-completer 获得c语言支持</li>
<li>YouCompleteMe 还需要 ycm_extra_conf.py，到github上下载</li>
<li>ycm_extra_conf.py 需要用到 /usr/include 目录，但是mac上默认没有，需要Xcode Commond Line Tool工具的支持，用xcode-select —install 命令安装即可。反复安装了3次没有成功，就跪在这个坑上了。</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;安装Bundle 插件&lt;/li&gt;
&lt;li&gt;用 Bundle 插件安装 YouCompleteMe&lt;/li&gt;
&lt;li&gt;换到YouCompleteMe目录 使用 install.py 安装，—clang-completer 获得c语言支持&lt;/li&gt;
&lt;li&gt;YouC
    
    </summary>
    
    
  </entry>
  
</feed>
