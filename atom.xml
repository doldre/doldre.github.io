<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xinchen&#39;s Blog</title>
  <subtitle>For you thousands of times.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://luoxinchen.me/"/>
  <updated>2016-09-11T12:46:04.000Z</updated>
  <id>http://luoxinchen.me/</id>
  
  <author>
    <name>Xinchen Luo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>暑期集训-7-15-s</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-s/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-s/</id>
    <published>2016-09-11T12:44:30.000Z</published>
    <updated>2016-09-11T12:46:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces 691F</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>暴力<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 3e6 + 5;</div><div class="line">int cnt[maxn];</div><div class="line">ll sum[maxn];</div><div class="line">int n, m;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        int x;scanf("%d", &amp;x);</div><div class="line">        cnt[x]++;</div><div class="line">    &#125;</div><div class="line">    for (int i = 1; i &lt; maxn; i++) &#123;</div><div class="line">        for (int j = 1; j &lt; maxn; j++) &#123;</div><div class="line">            if((ll)i * j &gt;= maxn) &#123;</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            if(i == j) sum[i*j] += (ll)cnt[i]*(cnt[i] - 1);</div><div class="line">            else sum[i*j] += (ll)cnt[i] * cnt[j];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    for (int i = 1; i &lt; maxn; i++) &#123;</div><div class="line">        sum[i] = sum[i] + sum[i-1];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    scanf("%d", &amp;m);</div><div class="line">    ll tot = (ll)n * (n - 1);</div><div class="line">    for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">        int p; scanf("%d", &amp;p);</div><div class="line">        printf("%lld\n", tot - sum[p-1]);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces 691F&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;暴力&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="暴力" scheme="http://luoxinchen.me/tags/%E6%9A%B4%E5%8A%9B/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-r</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-r/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-r/</id>
    <published>2016-09-11T12:37:41.000Z</published>
    <updated>2016-09-11T12:43:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给定一个长度为n的数组，从这个数组中选出k个数组成一个序列（每个数可以用多次），这个序列满足相邻另个数xor的二进制表示上1的个数是3的倍数，求方案数</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>很明显的矩阵快速幂<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const ll MOD = 1e9 + 7;</div><div class="line">const int maxn = 110;</div><div class="line">struct Matrix &#123;</div><div class="line">    ll a[maxn][maxn];</div><div class="line">    int n, m;</div><div class="line">    Matrix() &#123;</div><div class="line">        n = m = 0;</div><div class="line">        memset(a, 0, sizeof(a));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Matrix(int n, int m): n(n), m(m) &#123;</div><div class="line">        memset(a, 0, sizeof(a));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void I() &#123;</div><div class="line">        for (int i = 0; i &lt; n; i++) a[i][i] = 1;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void zero() &#123;</div><div class="line">        memset(a, 0, sizeof(0));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Matrix operator * (const Matrix &amp;b) const &#123;</div><div class="line">        Matrix res(n, b.m);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; b.m; j++) &#123;</div><div class="line">                for (int k = 0; k &lt; m; k++) &#123;</div><div class="line">                    res.a[i][j] = (res.a[i][j] + a[i][k] * b.a[k][j]) % MOD;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Matrix mat_pow(Matrix a, ll n) &#123;</div><div class="line">    Matrix res(a.n, a.m);</div><div class="line">    res.I();</div><div class="line">    while(n) &#123;</div><div class="line">        if(n &amp; 1) &#123;</div><div class="line">            res = res * a;</div><div class="line">        &#125;</div><div class="line">        a = a * a;</div><div class="line">        n &gt;&gt;= 1;</div><div class="line">    &#125;</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ll A[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    ll n, k;</div><div class="line">    scanf("%lld%lld", &amp;n, &amp;k);</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        scanf("%lld", &amp;A[i]);</div><div class="line">    &#125;</div><div class="line">    Matrix dp(n, n);</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        for (int j = 0; j &lt; n; j++) &#123;</div><div class="line">            if(__builtin_popcountll(A[i] ^ A[j]) % 3 == 0) &#123;</div><div class="line">                dp.a[i][j] = 1;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    dp = mat_pow(dp, k - 1);</div><div class="line">    Matrix ans(n, 1);</div><div class="line">    for (int i = 0; i &lt; n; i++) ans.a[i][0] = 1;</div><div class="line">    ans = dp * ans;</div><div class="line">    ll res = 0;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        res = (res + ans.a[i][0]) % MOD;</div><div class="line">    &#125;</div><div class="line">    printf("%lld\n", res);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给定一个长度为n的数组，从这个数组中选出k个数组成一个序列（每个数可以用多次），这个序列满足相邻另个数xor的二进制表示上1的个数是3的倍数，求方案数&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;很明显的矩阵快速幂&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="矩阵快速幂" scheme="http://luoxinchen.me/tags/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-q</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-q/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-q/</id>
    <published>2016-09-11T12:34:05.000Z</published>
    <updated>2016-09-11T12:37:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给一个1..n的序列，和m个二元组(ai, bi),可以任意交换ai,bi位置上的数，求能够得到的最小字典序的序列</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>把(ai,bi)看成边，每个位置看成点，任意连通块内的点都可以互换，所以这题就是求出连通块，对连通块内的数排个序就好<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e6 + 5;</div><div class="line">int A[maxn];</div><div class="line">bool used[maxn];</div><div class="line">vector&lt;int&gt; G[maxn];</div><div class="line">int n, m;</div><div class="line">void dfs(int u, vector&lt;int&gt; &amp;pos, vector&lt;int&gt; &amp;val) &#123;</div><div class="line">    used[u] = true;</div><div class="line">    pos.push_back(u); val.push_back(A[u]);</div><div class="line">    for (auto v: G[u]) &#123;</div><div class="line">        if(!used[v]) &#123;</div><div class="line">            dfs(v, pos, val);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d%d", &amp;n, &amp;m);</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        scanf("%d", &amp;A[i]);</div><div class="line">    &#125;</div><div class="line">    for (int i = 0; i &lt; m; i++) &#123;</div><div class="line">        int u, v;</div><div class="line">        scanf("%d%d", &amp;u, &amp;v);</div><div class="line">        G[u].push_back(v);</div><div class="line">        G[v].push_back(u);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        vector&lt;int&gt; pos, val;</div><div class="line">        if(!used[i]) &#123;</div><div class="line">            dfs(i, pos, val);</div><div class="line">            sort(val.begin(), val.end(), greater&lt;int&gt;());</div><div class="line">            sort(pos.begin(), pos.end());</div><div class="line">            for (int i = 0; i &lt; (int)pos.size(); i++) &#123;</div><div class="line">                A[pos[i]] = val[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        printf("%d%c", A[i], i == n ? '\n' : ' ');</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;给一个1..n的序列，和m个二元组(ai, bi),可以任意交换ai,bi位置上的数，求能够得到的最小字典序的序列&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;把(ai,bi)看成边，每个位置看成点，任意连通块内的点都可以互换，所以这题就是求出连通块，对连通块内的数排个序就好&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="sort" scheme="http://luoxinchen.me/tags/sort/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-p</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-p/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-p/</id>
    <published>2016-09-11T12:32:47.000Z</published>
    <updated>2016-09-11T12:33:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>模拟</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>模拟<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line"></div><div class="line">string str;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    cin &gt;&gt; str;</div><div class="line">    int len = (int)str.size();</div><div class="line">    int start = 0, point = len;</div><div class="line">    while(start &lt; len &amp;&amp; (str[start] == '0' || </div><div class="line">            str[start] == '.')) start++;</div><div class="line">    for (int i = 0; i &lt; len; i++) &#123;</div><div class="line">        if(str[i] == '.') &#123;</div><div class="line">            point = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    int end_int = start;</div><div class="line">    for (int i = start; i &lt; len; i++) &#123;</div><div class="line">        if(str[i] &gt; '0' &amp;&amp; str[i] &lt;= '9') &#123;</div><div class="line">            end_int = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    if(start == len) &#123;</div><div class="line">        printf("0\n");</div><div class="line">    &#125; else &#123;</div><div class="line">        printf("%c", str[start]);</div><div class="line">        if(end_int &gt; start) &#123;</div><div class="line">            printf(".");</div><div class="line">            for (int i = start + 1; i &lt;= end_int; i++) &#123;</div><div class="line">                if(str[i] != '.') &#123;</div><div class="line">                    printf("%c", str[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if(start != point - 1) &#123;</div><div class="line">            if(point &gt; start) printf("E%d\n", point - start - 1);</div><div class="line">            else printf("E%d\n", point - start);</div><div class="line">        &#125; else puts("");</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;模拟&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;模拟&lt;br&gt;
    
    </summary>
    
      <category term="模拟" scheme="http://luoxinchen.me/categories/%E6%A8%A1%E6%8B%9F/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="模拟" scheme="http://luoxinchen.me/tags/%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-o</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-o/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-o/</id>
    <published>2016-09-11T12:30:54.000Z</published>
    <updated>2016-09-11T12:31:52.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>模拟</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>模拟<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">map&lt;char, char&gt; mp;</div><div class="line">void init() &#123;</div><div class="line">    mp['A'] = 'A';</div><div class="line">    mp['b'] = 'd';</div><div class="line">    mp['d'] = 'b';</div><div class="line">    mp['H'] = 'H';</div><div class="line">    mp['I'] = 'I';</div><div class="line">    mp['M'] = 'M';</div><div class="line">    mp['O'] = 'O';</div><div class="line">    mp['o'] = 'o';</div><div class="line">    mp['p'] = 'q';</div><div class="line">    mp['q'] = 'p';</div><div class="line">    mp['T'] = 'T';</div><div class="line">    mp['U'] = 'U';</div><div class="line">    mp['V'] = 'V';</div><div class="line">    mp['v'] = 'v';</div><div class="line">    mp['W'] = 'W';</div><div class="line">    mp['w'] = 'w';</div><div class="line">    mp['X'] = 'X';</div><div class="line">    mp['x'] = 'x';</div><div class="line">    mp['Y'] = 'Y';</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    init();</div><div class="line">    string str;</div><div class="line">    cin &gt;&gt; str;</div><div class="line">    int len = (int)str.size();</div><div class="line">    bool ok = true;</div><div class="line">    for (int i = 0; i &lt; len; i++) &#123;</div><div class="line">        if(mp.find(str[i]) == mp.end()) &#123;</div><div class="line">            ok = false;</div><div class="line">            break;</div><div class="line">        &#125; else &#123;</div><div class="line">            if(mp[str[i]] != str[len - 1 - i]) &#123;</div><div class="line">                ok = false;</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    if(ok) printf("TAK\n");</div><div class="line">    else printf("NIE\n");</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;模拟&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;模拟&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="模拟" scheme="http://luoxinchen.me/tags/%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-n</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-n/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-n/</id>
    <published>2016-09-11T12:26:18.000Z</published>
    <updated>2016-09-11T12:30:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>模拟</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>模拟<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    int not_fastened = 0;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        int x; scanf("%d", &amp;x);</div><div class="line">        if(x == 0) &#123;</div><div class="line">            not_fastened++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    bool ok = true;</div><div class="line">    if(n == 1 &amp;&amp; not_fastened == 1) &#123;</div><div class="line">        ok = false;</div><div class="line">    &#125;</div><div class="line">    if(n &gt; 1 &amp;&amp; not_fastened != 1) &#123;</div><div class="line">        ok = false;</div><div class="line">    &#125;</div><div class="line">    if(ok) &#123;</div><div class="line">        printf("YES\n");</div><div class="line">    &#125; else &#123;</div><div class="line">        printf("NO\n");</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;模拟&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;模拟&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="模拟" scheme="http://luoxinchen.me/tags/%E6%A8%A1%E6%8B%9F/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-m</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-m/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-m/</id>
    <published>2016-09-11T12:21:05.000Z</published>
    <updated>2016-09-11T12:25:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces 696D<br>给出一些模式串，构造一个长度不大于L的字符串，每个模式串有自己的价值，模式串每次出现都会有自己的贡献，求可能得到的最大的贡献值</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>用AC自动机构造转移矩阵，然后矩阵快速幂加速，这里讲乘法改成取最大值即可<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 200 + 10;</div><div class="line">struct Matrix &#123;</div><div class="line">    ll a[maxn][maxn];</div><div class="line">    int n, m;</div><div class="line">    Matrix() &#123;</div><div class="line">        n = m = 0;</div><div class="line">        memset(a, -1, sizeof(a));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Matrix(int n, int m): n(n), m(m) &#123;</div><div class="line">        memset(a, -1, sizeof(a));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    inline void I() &#123;</div><div class="line">        for (int i = 0; i &lt; n; i++) a[i][i] = 0;</div><div class="line">    &#125;</div><div class="line">    inline Matrix operator * (const Matrix &amp;x) &#123;</div><div class="line">        Matrix res(n, x.m);</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; x.m; j++) &#123;</div><div class="line">                for (int k = 0; k &lt; m; k++) &#123;</div><div class="line">                    if(a[i][k] != -1 &amp;&amp; x.a[k][j] != -1) &#123;</div><div class="line">                        res.a[i][j] = max(res.a[i][j], a[i][k] + x.a[k][j]);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return res;</div><div class="line">    &#125;</div><div class="line">    void debug() &#123;</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; m; j++) &#123;</div><div class="line">                printf("%lld ", a[i][j]);</div><div class="line">            &#125;</div><div class="line">            puts("");</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">inline Matrix mat_pow(Matrix a, ll b) &#123;</div><div class="line">    Matrix c(a.n, a.m);</div><div class="line">    c.I();</div><div class="line">    while(b) &#123;</div><div class="line">        if(b &amp; 1) &#123;</div><div class="line">            c = c * a;</div><div class="line">        &#125;</div><div class="line">        a = a * a;</div><div class="line">        b &gt;&gt;= 1;</div><div class="line">    &#125;</div><div class="line">    return c;</div><div class="line">&#125;</div><div class="line"></div><div class="line">char str[maxn][maxn];</div><div class="line">ll n, l, A[maxn];</div><div class="line">const int AC_SIGMA = 26, AC_N = 210;</div><div class="line">struct AC_automaton &#123;</div><div class="line">    int next[AC_N][AC_SIGMA], fail[AC_N];</div><div class="line">    ll end[AC_N];</div><div class="line">    int root, L;</div><div class="line">    int newnode() &#123;</div><div class="line">        for (int i = 0; i &lt; AC_SIGMA; i++) &#123;</div><div class="line">            next[L][i] = -1;</div><div class="line">        &#125;</div><div class="line">        end[L] = 0;</div><div class="line">        return L++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void init() &#123;</div><div class="line">        L = 0;</div><div class="line">        root = newnode();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void insert(char buf[], int v) &#123;</div><div class="line">        int len = strlen(buf);</div><div class="line">        int now = root;</div><div class="line">        for (int i = 0; i &lt; len; i++) &#123;</div><div class="line">            if(next[now][buf[i] - 'a'] == -1) &#123;</div><div class="line">                next[now][buf[i] - 'a'] = newnode();</div><div class="line">            &#125;</div><div class="line">            now = next[now][buf[i] - 'a'];</div><div class="line">        &#125;</div><div class="line">        end[now] += v;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void build() &#123;</div><div class="line">        queue&lt;int&gt; Q;</div><div class="line">        fail[root] = root;</div><div class="line">        for (int i = 0; i &lt; AC_SIGMA; i++) &#123;</div><div class="line">            if(next[root][i] == -1) &#123;</div><div class="line">                next[root][i] = root;</div><div class="line">            &#125; else &#123;</div><div class="line">                fail[next[root][i]] = root;</div><div class="line">                Q.push(next[root][i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        while(!Q.empty()) &#123;</div><div class="line">            int now = Q.front();</div><div class="line">            if(fail[now] != root) &#123;</div><div class="line">                end[now] += end[fail[now]];</div><div class="line">            &#125;</div><div class="line">            Q.pop();</div><div class="line">            for (int i = 0; i &lt; 26; i++) &#123;</div><div class="line">                if(next[now][i] == -1) &#123;</div><div class="line">                    next[now][i] = next[fail[now]][i];</div><div class="line">                &#125; else &#123;</div><div class="line">                    fail[next[now][i]] = next[fail[now]][i];</div><div class="line">                    Q.push(next[now][i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;ac;</div><div class="line"></div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%lld%lld", &amp;n, &amp;l);</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        scanf("%lld", &amp;A[i]);</div><div class="line">    &#125;</div><div class="line">    ac.init();</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        scanf("%s", str[i]);</div><div class="line">        ac.insert(str[i], A[i]);</div><div class="line">    &#125;</div><div class="line">    ac.build();</div><div class="line">    Matrix dp(ac.L, ac.L);</div><div class="line">    for (int i = 0; i &lt; ac.L; i++) &#123;</div><div class="line">        for (int j = 0; j &lt; 26; j++) &#123;</div><div class="line">            dp.a[ac.next[i][j]][i] = max(dp.a[ac.next[i][j]][i], </div><div class="line">                    ac.end[ac.next[i][j]]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    Matrix ans(ac.L, 1);</div><div class="line">    ans.a[0][0] = 0;</div><div class="line">    dp = mat_pow(dp, l);</div><div class="line">    // dp.debug();</div><div class="line">    ans = dp * ans;</div><div class="line">    ll res = 0;</div><div class="line">    for (int i = 0; i &lt; ac.L; i++) &#123;</div><div class="line">        res = max(res, ans.a[i][0]);</div><div class="line">    &#125;</div><div class="line">    cout &lt;&lt; res &lt;&lt; endl;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces 696D&lt;br&gt;给出一些模式串，构造一个长度不大于L的字符串，每个模式串有自己的价值，模式串每次出现都会有自己的贡献，求可能得到的最大的贡献值&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;用AC自动机构造转移矩阵，然后矩阵快速幂加速，这里讲乘法改成取最大值即可&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="AC自动机" scheme="http://luoxinchen.me/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"/>
    
      <category term="矩阵快速幂" scheme="http://luoxinchen.me/tags/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-l</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-l/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-l/</id>
    <published>2016-09-11T12:17:48.000Z</published>
    <updated>2016-09-11T12:20:23.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>三个杯子，初始时有个物品在中间杯子里，在n此交换后，问物品在中间杯子的概率</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>推出递推方程，用矩阵快速幂加速。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const ll MOD = 1e9 + 7;</div><div class="line"></div><div class="line">ll mod_pow(ll x, ll n, ll mod) &#123;</div><div class="line">    ll res = 1;</div><div class="line">    while(n &gt; 0) &#123;</div><div class="line">        if(n &amp; 1) &#123;</div><div class="line">            res = (res * x) % mod;</div><div class="line">        &#125;</div><div class="line">        x = (x * x) % mod;</div><div class="line">        n &gt;&gt;= 1;</div><div class="line">    &#125;</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ll mod_multiply(ll a, ll b, ll mod) &#123;</div><div class="line">    ll res = 0;</div><div class="line">    while(b &gt; 0) &#123;</div><div class="line">        if(b &amp; 1) &#123;</div><div class="line">            res = (res + a) % mod;</div><div class="line">        &#125;</div><div class="line">        b &gt;&gt;= 1;</div><div class="line">        a = (a + a) % mod;</div><div class="line">    &#125;</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int n;</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    ll t = 1;</div><div class="line">    ll flag = 1;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        ll a; cin &gt;&gt; a;</div><div class="line">        flag = (flag * a) % 2;</div><div class="line">        t = mod_multiply(t, a, MOD - 1);</div><div class="line">    &#125;</div><div class="line">    t = (t - 1 + MOD - 1) % (MOD - 1);</div><div class="line">    ll p = mod_pow(2, t, MOD);</div><div class="line">    ll q = p;</div><div class="line">    if(flag == 0) p = (p + 1) % MOD;</div><div class="line">    else p = (p - 1) % MOD;</div><div class="line">    p = mod_multiply(p, mod_pow(3, MOD - 2, MOD), MOD);</div><div class="line">    cout &lt;&lt; p &lt;&lt; "/" &lt;&lt; q &lt;&lt; endl;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;三个杯子，初始时有个物品在中间杯子里，在n此交换后，问物品在中间杯子的概率&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;推出递推方程，用矩阵快速幂加速。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="矩阵快速幂" scheme="http://luoxinchen.me/tags/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-k</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-k/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-k/</id>
    <published>2016-09-11T12:10:44.000Z</published>
    <updated>2016-09-11T12:17:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces 698B<br>给一颗有根数，求每个节点dfs序的期望</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>这题的关键在于，对于任意兄弟节点a,b来说，先访问a在b之前访问的概率是1/2。<br>所以a对比的贡献是subtree(a) * 1/2，subtree(x)表示x为根节点的子树的节点数<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e5 + 5;</div><div class="line">int subtree[maxn];</div><div class="line">double E[maxn];</div><div class="line">vector&lt;int&gt; G[maxn];</div><div class="line">int n;</div><div class="line">void dfs(int u) &#123;</div><div class="line">    subtree[u] = 1;</div><div class="line">    for (int v: G[u]) &#123;</div><div class="line">        dfs(v);</div><div class="line">        subtree[u] += subtree[v];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void dfs2(int u) &#123;</div><div class="line">    for (auto v: G[u]) &#123;</div><div class="line">        E[v] = E[u] + 1 + (double)(subtree[u] - subtree[v] - 1) / 2;</div><div class="line">        dfs2(v);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    scanf("%d", &amp;n);</div><div class="line">    for (int i = 2; i &lt;= n; i++) &#123;</div><div class="line">        int p;</div><div class="line">        scanf("%d", &amp;p);</div><div class="line">        G[p].push_back(i);</div><div class="line">    &#125;</div><div class="line">    dfs(1);</div><div class="line">    E[1] = 1;</div><div class="line">    dfs2(1);</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        printf("%.9f%c", E[i], i == n ? '\n' : ' ');</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces 698B&lt;br&gt;给一颗有根数，求每个节点dfs序的期望&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;这题的关键在于，对于任意兄弟节点a,b来说，先访问a在b之前访问的概率是1/2。&lt;br&gt;所以a对比的贡献是subtree(a) * 1/2，subtree(x)表示x为根节点的子树的节点数&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="期望" scheme="http://luoxinchen.me/tags/%E6%9C%9F%E6%9C%9B/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-j</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-j/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-j/</id>
    <published>2016-09-11T12:06:47.000Z</published>
    <updated>2016-09-11T12:10:08.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>蟑螂有T时间，往各个方向跑，一些地方有半径为R的阴影，蟑螂在T时间内如果能够跑到阴影部分就安全。蟑螂一开始是随机往各个方向跑。问蟑螂安全的概率。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>枚举每个阴影部分，算出安全的角度区间，然后求区间并。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>/<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br> <em>Author        :mathon
 </em>Email         :luoxinchen96@gmail.com<br><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>/</p>
<p>#include <cstdio></cstdio></p>
<p>#include <cstring></cstring></p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include <cmath></cmath></p>
<p>#include <cstdlib></cstdlib></p>
<p>#include <ctime></ctime></p>
<p>#include <stack><br>using namespace std;<br>typedef pair<int, int=""> pii;<br>typedef long long ll;<br>typedef unsigned long long ull;</int,></stack></p>
<p>#define xx first</p>
<p>#define lowbit(x) (x&amp;-x)</p>
<p>#define yy second</p>
<p>#define pr(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; “ “</p>
<p>#define prln(x) cout &lt;&lt; #x &lt;&lt; “ “ &lt;&lt; x &lt;&lt; endl<br>const int maxn = 1e5 + 5;<br>const double eps = 1e-8;<br>const double pi = acos(-1.0);</p>
<p>int sign(long double x) {<br>    if(x &lt; -eps) return -1;<br>    else if(x &gt; eps) return 1;<br>    else return 0;<br>}</p>
<p>struct Point {<br>    double x, y;<br>    Point() {}<br>    Point(double x, double y):x(x), y(y) {}<br>    Point operator - (const Point &amp;b) const {<br>        return Point(x - b.x, y - b.y);<br>    }<br>    double length() {<br>        return sqrt(x <em> x + y </em> y);<br>    }</p>
<pre><code>void read() {
    scanf(&quot;%lf%lf&quot;, &amp;x, &amp;y);
}
</code></pre><p>};</p>
<p>double dis(Point a, Point b) {<br>    return (b - a).length();<br>}</p>
<p>long double sqrDis(Point a, Point b) {<br>    Point t = b - a;<br>    return (long double)t.x <em> t.x + t.y </em> t.y;<br>}</p>
<p>struct Circle {<br>    Point center;<br>    double r;<br>    Circle() {}<br>    Circle(Point center, double r):center(center), r(r) {};<br>    void read() {<br>        center.read();<br>        scanf(“%lf”, &amp;r);<br>    }<br>};</p>
<p>bool isInCircle(Point p, Circle c) {<br>    return sign(sqrDis(p, c.center) - c.r * c.r) &lt;= 0;<br>}</p>
<p>double cosc(double a, double b, double c) {<br>    return (a <em> a + b </em> b - c <em> c) / (2 </em> a * b);<br>}</p>
<p>Circle circles[maxn];<br>Point p;<br>double v, T, R;<br>int n;</p>
<p>vector<pair<double, int=""> &gt; V;</pair<double,></p>
<p>double cal_range() {<br>    sort(V.begin(), V.end());<br>    double last;<br>    double res = 0;<br>    int cnt = 0;<br>    for (int i = 0; i &lt; (int)V.size(); i++) {<br>        if(cnt &gt; 0) {<br>            res += V[i].xx - last;<br>        }<br>        last = V[i].xx;<br>        cnt += V[i].yy;<br>    }<br>    return res;<br>}</p>
<p>void add_interval(double l, double r) {<br>    V.push_back(make_pair(l, 1));<br>    V.push_back(make_pair(r, -1));<br>}</p>
<p>double tangent_length(Point p, Circle c) {<br>    double d = dis(p, c.center);<br>    return sqrt(d <em> d - c.r </em> c.r);<br>}</p>
<p>bool isIntersect(Circle a, Circle b) {<br>    double d = sqrDis(a.center, b.center);<br>    return sign(d - (a.r + b.r) * (a.r + b.r)) &lt; 0;<br>}</p>
<p>int main(void) {</p>
<p>#ifdef MATHON<br>    //freopen(“in.txt”, “r”, stdin);<br>    //freopen(“out.txt”, “w”, stdout);</p>
<p>#endif<br>    p.read();<br>    scanf(“%lf%lf”, &amp;v, &amp;T);<br>    R = v * T;<br>    scanf(“%d”, &amp;n);<br>    for (int i = 0; i &lt; n; i++) {<br>        circles[i].read();<br>    }<br>    for (int i = 0; i &lt; n; i++) {<br>        if(isInCircle(p, circles[i])) {<br>            // prln(“fuck”);<br>            printf(“%.9f\n”, 1.0);<br>            return 0;<br>        }</p>
<pre><code>    if(!isIntersect(Circle(p, R), circles[i])) {
        continue;
    }

    double tangent = tangent_length(p, circles[i]);
    double d = dis(p, circles[i].center); 
    double ang, mid;
    mid = atan2((circles[i].center - p).y, 
            (circles[i].center - p).x);
    if(R &gt;= tangent) {
        ang = asin(circles[i].r / d);
    } else {
        ang = acos(cosc(R, d, circles[i].r));
    }
    double up = fmod(mid + ang + 2 * pi, 2 * pi);
    double down = fmod(mid - ang + 2 * pi, 2 * pi);
    // pr(down); prln(up);
    if(sign(down - up) &lt;= 0) {
        add_interval(down, up);
    } else {
        add_interval(0, up);
        add_interval(down, 2 * pi);
    }
}
double range = cal_range();
printf(&quot;%.9f\n&quot;, range / (2 * pi));
return 0;
</code></pre><p>}<br>```</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;蟑螂有T时间，往各个方向跑，一些地方有半径为R的阴影，蟑螂在T时间内如果能够跑到阴影部分就安全。蟑螂一开始是随机往各个方向跑。问蟑螂安全的概率。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;枚举每个阴影部分，算出安全的角度区间，然后求区间并。&lt;br&gt;
    
    </summary>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/categories/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="计算几何" scheme="http://luoxinchen.me/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-g</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-g/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-g/</id>
    <published>2016-09-11T12:00:31.000Z</published>
    <updated>2016-09-11T12:04:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>UVA 11082<br>给出矩阵前i行，前j列之和，求出一个满足题意的矩阵。矩阵元素值在1~20范围。n,m最大为20</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>经典网络流题目。注意对于每条边-1,就可以解决0流的问题。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line"></div><div class="line">const int inf = 0x3f3f3f3f;</div><div class="line">const int maxn = 300 + 5;</div><div class="line">const int maxv = 300 + 5;</div><div class="line">int d[maxn][maxn];</div><div class="line"></div><div class="line">struct Dinic &#123;</div><div class="line">    struct edge &#123;</div><div class="line">        int to, cap, rev; </div><div class="line">        edge() &#123;&#125;</div><div class="line">        edge(int to, int cap, int rev):to(to), cap(cap), rev(rev) &#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    </div><div class="line">    vector&lt;edge&gt; G[maxv];</div><div class="line">    int num_v;</div><div class="line">    int level[maxv];</div><div class="line">    int iter[maxv];</div><div class="line"></div><div class="line">    void add_edge(int from, int to, int cap) &#123;</div><div class="line">        G[from].push_back(edge(to, cap, (int)G[to].size()));</div><div class="line">        G[to].push_back(edge(from, 0, (int)G[from].size() - 1));</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    void init(int num_v) &#123;</div><div class="line">        this-&gt;num_v = num_v;</div><div class="line">        for (int i = 0; i &lt;= num_v; i++) G[i].clear();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void bfs(int s) &#123;</div><div class="line">        memset(level, -1, sizeof(level));</div><div class="line">        queue&lt;int&gt; que;</div><div class="line">        level[s] = 0;</div><div class="line">        que.push(s);</div><div class="line">        while(!que.empty()) &#123;</div><div class="line">            int v = que.front(); que.pop();</div><div class="line">            for (int i = 0; i &lt; (int)G[v].size(); i++) &#123;</div><div class="line">                edge &amp;e = G[v][i];</div><div class="line">                if (e.cap &gt; 0 &amp;&amp; level[e.to] &lt; 0) &#123;</div><div class="line">                    level[e.to] = level[v] + 1;</div><div class="line">                    que.push(e.to);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int dfs(int v, int t, int f) &#123;</div><div class="line">        if (v == t) return f;</div><div class="line">        for (int &amp;i = iter[v]; i &lt; (int)G[v].size(); i++) &#123;</div><div class="line">            edge &amp;e = G[v][i];</div><div class="line">            if (e.cap &gt; 0 &amp;&amp; level[v] &lt; level[e.to]) &#123;</div><div class="line">                int d = dfs(e.to, t, min(f, e.cap));</div><div class="line">                if( d &gt; 0) &#123;</div><div class="line">                    e.cap -= d;</div><div class="line">                    G[e.to][e.rev].cap += d;</div><div class="line">                    return d;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    int max_flow(int s, int t) &#123;</div><div class="line">        int flow = 0;</div><div class="line">        for (;;) &#123;</div><div class="line">            bfs(s);</div><div class="line">            if(level[t] &lt; 0) return flow;</div><div class="line">            memset(iter, 0, sizeof(iter));</div><div class="line">            int f;</div><div class="line">            while((f = dfs(s, t, inf)) &gt; 0) &#123;</div><div class="line">                flow += f;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;dinic;</div><div class="line"></div><div class="line">int A[maxn];</div><div class="line">int ans[maxn][maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    for (int Cas = 1; Cas &lt;= T; Cas++) &#123;</div><div class="line">        int n, m;</div><div class="line">        scanf("%d%d", &amp;n, &amp;m);</div><div class="line">        int s = n + m + 1, t = s + 1;</div><div class="line">        dinic.init(t + 1);</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            scanf("%d", &amp;A[i]);</div><div class="line">            dinic.add_edge(s, i, A[i] - A[i-1] - m);</div><div class="line">        &#125;</div><div class="line">        for (int i = 1; i &lt;= m; i++) &#123;</div><div class="line">            scanf("%d", &amp;A[i]);</div><div class="line">            dinic.add_edge(n + i, t, A[i] - A[i-1] - n);</div><div class="line">        &#125;</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            for (int j = 1; j &lt;= m; j++) &#123;</div><div class="line">                dinic.add_edge(i, j + n, 19);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        int tmp = dinic.max_flow(s, t);</div><div class="line">        // prln(tmp);</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; (int)dinic.G[i].size(); j++) &#123;</div><div class="line">                int u = i, v = dinic.G[i][j].to - n;</div><div class="line">                if(v &gt; m) continue;</div><div class="line">                int c = 19 - dinic.G[i][j].cap + 1;</div><div class="line">                ans[u][v] = c;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("Matrix %d\n", Cas);</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            for (int j = 1; j &lt;= m; j++) &#123;</div><div class="line">                printf("%d%c", ans[i][j], j == m ? '\n' : ' ');</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;UVA 11082&lt;br&gt;给出矩阵前i行，前j列之和，求出一个满足题意的矩阵。矩阵元素值在1~20范围。n,m最大为20&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;经典网络流题目。注意对于每条边-1,就可以解决0流的问题。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="最大流" scheme="http://luoxinchen.me/tags/%E6%9C%80%E5%A4%A7%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-15-b</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-15-b/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-15-b/</id>
    <published>2016-09-11T11:55:09.000Z</published>
    <updated>2016-09-11T11:57:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>HDU 4775<br>模拟围棋</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>并查集模拟<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line"> *************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">typedef pair&lt;ll, ll&gt; pll;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int dx[] = &#123;-1, 1, 0, 0&#125;;</div><div class="line">const int dy[] = &#123;0, 0, -1, 1&#125;;</div><div class="line">map&lt;pll, int&gt; board;</div><div class="line">// 0 表示黑， 1 表示白</div><div class="line">struct DSU &#123;</div><div class="line">    map&lt;pll, pll&gt; par; </div><div class="line">    map&lt;pll, ll&gt; cnt;</div><div class="line"></div><div class="line">    void init() &#123;</div><div class="line">        par.clear();</div><div class="line">        cnt.clear();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void erase(pll pos) &#123;</div><div class="line">        par.erase(par.find(pos));</div><div class="line">        cnt.erase(cnt.find(pos));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    ll get_liberty(pll pos) &#123;</div><div class="line">        pos = find(pos);</div><div class="line">        return cnt[pos];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    pll find(pll x) &#123;</div><div class="line">        if(par.find(x) == par.end()) &#123;</div><div class="line">            par[x] = x;</div><div class="line">            cnt[x] = 0;</div><div class="line">        &#125;</div><div class="line">        if(par[x] == x) &#123;</div><div class="line">            return x;</div><div class="line">        &#125; else &#123;</div><div class="line">            return par[x] = find(par[x]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void modify(pll pos, int add) &#123;</div><div class="line">        pos = find(pos);</div><div class="line">        cnt[pos] += add;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    void merge(pll a, pll b) &#123;</div><div class="line">        a = find(a), b = find(b);</div><div class="line">        cnt[a] += cnt[b];</div><div class="line">        par[b] = a;</div><div class="line">    &#125;</div><div class="line">&#125;dsu;</div><div class="line"></div><div class="line">void push(pll pos, int color) &#123;</div><div class="line">    int x = pos.xx, y = pos.yy;</div><div class="line">    int add = 4;</div><div class="line">    for (int dir = 0; dir &lt; 4; dir++) &#123;</div><div class="line">        int nx = x + dx[dir], ny = y + dy[dir];</div><div class="line">        if(nx == 0 || ny == 0) add--;</div><div class="line">        if(board.find(pll(nx, ny)) != board.end()) &#123;</div><div class="line">            dsu.modify(pll(nx, ny), -1);</div><div class="line">            add--;</div><div class="line">            if(board[pll(nx, ny)] == color) &#123;</div><div class="line">                dsu.merge(pos, pll(nx, ny));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    board[pos] = color;</div><div class="line">    dsu.modify(pos, add);</div><div class="line">&#125;</div><div class="line"></div><div class="line">void dfs(pll pos, int color) &#123;</div><div class="line">    board.erase(board.find(pos));</div><div class="line">    dsu.erase(pos);</div><div class="line">    int x = pos.xx, y = pos.yy;</div><div class="line">    for (int dir = 0; dir &lt; 4; dir++) &#123;</div><div class="line">        int nx = x + dx[dir], ny = y + dy[dir];</div><div class="line">        if(board.find(pll(nx, ny)) != board.end()) &#123;</div><div class="line">            if(board[pll(nx, ny)] == color) &#123;</div><div class="line">                dfs(pll(nx, ny), color);</div><div class="line">            &#125; else &#123;</div><div class="line">                dsu.modify(pll(nx, ny), 1);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void check(pll pos, int color) &#123;</div><div class="line">    int x = pos.xx, y = pos.yy;</div><div class="line">    for (int dir = 0; dir &lt; 4; dir++) &#123;</div><div class="line">        int nx = x + dx[dir], ny = y + dy[dir];</div><div class="line">        if(board.find(pll(nx, ny)) != board.end()) &#123;</div><div class="line">            if(board[pll(nx, ny)] != color &amp;&amp; </div><div class="line">                    dsu.get_liberty(pll(nx, ny)) == 0) &#123;</div><div class="line">                dfs(pll(nx, ny), board[pll(nx, ny)]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    if(dsu.get_liberty(pos) == 0) &#123;</div><div class="line">        dfs(pos, color);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T; scanf("%d", &amp;T);</div><div class="line">    while(T--) &#123;</div><div class="line">        int n; scanf("%d", &amp;n);</div><div class="line">        board.clear();</div><div class="line">        dsu.init();</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            int x, y;</div><div class="line">            scanf("%d%d", &amp;x, &amp;y);</div><div class="line">            int color = i % 2;</div><div class="line">            push(pll(x, y), color);</div><div class="line">            check(pll(x, y), color);</div><div class="line">        &#125; </div><div class="line">        map&lt;pll, int&gt;::iterator it;</div><div class="line">        int cnt_b = 0, cnt_w = 0;</div><div class="line">        for (it = board.begin(); it != board.end(); it++) &#123;</div><div class="line">            // printf("%lld %lld: %d\n", it-&gt;xx.xx, it-&gt;xx.yy, it-&gt;yy);</div><div class="line">            // printf("%lld\n", dsu.get_liberty(it-&gt;xx));</div><div class="line">            if(it-&gt;yy == 0) cnt_b++;</div><div class="line">            else cnt_w++;</div><div class="line">        &#125;</div><div class="line">        printf("%d %d\n", cnt_b, cnt_w);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;HDU 4775&lt;br&gt;模拟围棋&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;并查集模拟&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="HDU 4775" scheme="http://luoxinchen.me/tags/HDU-4775/"/>
    
      <category term="模拟" scheme="http://luoxinchen.me/tags/%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-r</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-r/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-r/</id>
    <published>2016-09-11T11:51:22.000Z</published>
    <updated>2016-09-11T11:53:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>求1/n的循坏节长度</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>暴力<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line"></div><div class="line">const int maxn = 1e7 + 5;</div><div class="line">int used[maxn];</div><div class="line">pii work(int n) &#123;</div><div class="line">    for (int i = 0; i &lt;= n; i++) used[i] = -1;</div><div class="line">    int cnt = 0;</div><div class="line">    int x = 1 % n;</div><div class="line">    while(true) &#123;</div><div class="line">        if(used[x] != -1) &#123;</div><div class="line">            return pii(used[x], cnt - used[x]);</div><div class="line">        &#125;</div><div class="line">        if(x == 0) &#123;</div><div class="line">            return pii(cnt, 0);</div><div class="line">        &#125; </div><div class="line">        used[x] = cnt;</div><div class="line">        x = x * 10 % n;</div><div class="line">        cnt++;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    int T;</div><div class="line">    scanf("%d", &amp;T);</div><div class="line">    while(T--) &#123;</div><div class="line">        int n;</div><div class="line">        scanf("%d", &amp;n);</div><div class="line">        pii ans = work(n);</div><div class="line">        printf("%d %d\n", ans.xx, ans.yy);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;求1/n的循坏节长度&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;暴力&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="数学" scheme="http://luoxinchen.me/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="SOJ" scheme="http://luoxinchen.me/tags/SOJ/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-p</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-p/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-p/</id>
    <published>2016-09-11T11:44:37.000Z</published>
    <updated>2016-09-11T11:50:53.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Codeforces 468C<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ans = solve(l, r) % a;</div><div class="line">   <span class="keyword">if</span> (ans &lt;= <span class="number">0</span>)</div><div class="line">     ans += a;</div></pre></td></tr></table></figure></p>
<p>给出a，找到[l,r] 使得ans = 0</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>f(x + 1e18) = f(x) + 1,所以solve(x + 1, x + 1e18) = solve(x, x + 1e18-1) + 1<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const ll x = 1e17;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    ll a;</div><div class="line">    cin &gt;&gt; a;</div><div class="line">    ll d = 5 * (9 * (18 * x % a) % a) % a;</div><div class="line">    d = a - d;</div><div class="line">    cout &lt;&lt; d  &lt;&lt; " " &lt;&lt; x * 10 - 1 + d &lt;&lt; endl; </div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;Codeforces 468C&lt;br&gt;&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ans = solve(l, r) % a;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ans &amp;lt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     ans += a;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;给出a，找到[l,r] 使得ans = 0&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;f(x + 1e18) = f(x) + 1,所以solve(x + 1, x + 1e18) = solve(x, x + 1e18-1) + 1&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="Codeforces" scheme="http://luoxinchen.me/tags/Codeforces/"/>
    
      <category term="数学" scheme="http://luoxinchen.me/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-m</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-m/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-m/</id>
    <published>2016-09-11T11:39:13.000Z</published>
    <updated>2016-09-11T11:43:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>一辆卡车要行驶L单位的距离。卡车初始有P单位油，行驶1单位距离花费1单位油。途中有N个加油站，加油站汽油有限，卡车油箱无限。给出加油站的位置和油量，问卡车从起点到终点至少要加几次油。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>考虑贪心，把卡车能够经过的加油站的油量压进优先队列，油空时取最大的油量来加。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e6 + 5;</div><div class="line">int N;</div><div class="line">int sta[maxn];</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d", &amp;N) == 1) &#123;</div><div class="line">        memset(sta, 0, sizeof(sta));</div><div class="line">        for (int i = 0; i &lt; N; i++) &#123;</div><div class="line">            int l, p; scanf("%d%d", &amp;l, &amp;p);</div><div class="line">            sta[l] = p;</div><div class="line">            // prln(sta[l]);</div><div class="line">        &#125;</div><div class="line">        priority_queue&lt;int&gt; que;</div><div class="line">        int L, P; scanf("%d%d", &amp;L, &amp;P);</div><div class="line">        int ans = 0;</div><div class="line">        for (int i = L; i &gt; 0; i--) &#123;</div><div class="line">            if(sta[i] &gt; 0) &#123;</div><div class="line">                que.push(sta[i]);</div><div class="line">            &#125;</div><div class="line">            while(P &lt;= 0 &amp;&amp; !que.empty()) &#123;</div><div class="line">                int cur = que.top(); que.pop();</div><div class="line">                P += cur;</div><div class="line">                ans++;</div><div class="line">            &#125;</div><div class="line">            if(P &lt;= 0) &#123;</div><div class="line">                ans = -1;</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            P--;</div><div class="line">        &#125;</div><div class="line">        printf("%d\n", ans);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;一辆卡车要行驶L单位的距离。卡车初始有P单位油，行驶1单位距离花费1单位油。途中有N个加油站，加油站汽油有限，卡车油箱无限。给出加油站的位置和油量，问卡车从起点到终点至少要加几次油。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;考虑贪心，把卡车能够经过的加油站的油量压进优先队列，油空时取最大的油量来加。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="贪心" scheme="http://luoxinchen.me/tags/%E8%B4%AA%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-l</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-l/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-l/</id>
    <published>2016-09-11T11:35:46.000Z</published>
    <updated>2016-09-11T11:38:27.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>UVA 11270<br>求用1*2的木块将n*m的矩阵填满的方案数。</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>插头dp经典题<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 100;</div><div class="line">ll dp[maxn][1&lt;&lt;10];</div><div class="line">int n, m;</div><div class="line">void dfs(int x, int pos, int cur, int mask) &#123;</div><div class="line">    if(pos &gt;= n) &#123;</div><div class="line">        // prln(mask);</div><div class="line">        dp[cur+1][mask] += dp[cur][x];</div><div class="line">        return;</div><div class="line">    &#125;</div><div class="line">    if((x &gt;&gt; pos) &amp; 1) &#123;</div><div class="line">        dfs(x, pos + 1, cur, mask);</div><div class="line">    &#125;</div><div class="line">    if(!((x &gt;&gt; pos) &amp; 1)) &#123;</div><div class="line">        dfs(x, pos + 1, cur, mask | (1 &lt;&lt; pos));</div><div class="line">    &#125;</div><div class="line">    if(pos &lt; n - 1 &amp;&amp; !((x &gt;&gt; pos) &amp; 1) &amp;&amp;</div><div class="line">            !((x &gt;&gt; (pos + 1)) &amp; 1)) &#123;</div><div class="line">        dfs(x, pos + 2, cur, mask);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;m) == 2) &#123;</div><div class="line">        if(n &gt; m) swap(n, m);</div><div class="line">        for (int i = 0; i &lt;= m + 1; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; (1&lt;&lt;n); j++) &#123;</div><div class="line">                dp[i][j] ^= dp[i][j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        dp[1][0] = 1;</div><div class="line">        for (int i = 1; i &lt;= m; i++) &#123;</div><div class="line">            for (int j = 0; j &lt; (1&lt;&lt;n); j++) &#123;</div><div class="line">                if(dp[i][j] &gt; 0) dfs(j, 0, i, 0);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        printf("%lld\n", dp[m+1][0]);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;UVA 11270&lt;br&gt;求用1*2的木块将n*m的矩阵填满的方案数。&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;插头dp经典题&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="UVA" scheme="http://luoxinchen.me/tags/UVA/"/>
    
      <category term="插头dp" scheme="http://luoxinchen.me/tags/%E6%8F%92%E5%A4%B4dp/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-j</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-j/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-j/</id>
    <published>2016-09-11T11:29:31.000Z</published>
    <updated>2016-09-11T11:32:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>一个用1..n组成的序列{An} 如果Ai - i是0..n-1组成的序列，那么{An}被称为完美序列。给定n，问能否构造出完美序列{An},如果能输出这个序列</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>不知道为啥，反正这样凑能ac….<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1000 + 5;</div><div class="line">int used[2][maxn];</div><div class="line">int n;</div><div class="line">bool dfs(int d) &#123;</div><div class="line">    if(d &lt; 0) &#123;</div><div class="line">        return true;</div><div class="line">    &#125;</div><div class="line">    for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">        if(!used[0][i]) &#123;</div><div class="line">            if(i + d &lt;= n &amp;&amp; !used[1][i+d]) &#123;</div><div class="line">                used[0][i] = i + d;</div><div class="line">                used[1][i+d] = i;</div><div class="line">                if(dfs(d - 1)) &#123;</div><div class="line">                    return true;</div><div class="line">                &#125; else &#123;</div><div class="line">                    used[0][i] = 0;</div><div class="line">                    used[1][i+d] = 0;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            if(i - d &gt;= 1 &amp;&amp; !used[1][i-d]) &#123;</div><div class="line">                used[0][i] = i - d;</div><div class="line">                used[1][i-d] = i;</div><div class="line">                if(dfs(d - 1)) &#123;</div><div class="line">                    return true;</div><div class="line">                &#125; else &#123;</div><div class="line">                    used[0][i] = 0;</div><div class="line">                    used[1][i-d] = 0;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return false;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">void work(int x) &#123;</div><div class="line">    n = x;</div><div class="line">    printf("&#123;\n");</div><div class="line">    if(n % 4 == 2 || n % 4 == 3) &#123;</div><div class="line">        printf("0,\n");</div><div class="line">    &#125; else &#123;</div><div class="line">        memset(used, 0, sizeof(used));</div><div class="line">        bool suc = dfs(n - 1);</div><div class="line">        prln(suc);</div><div class="line">        for (int i = 1; i &lt;= n; i++) &#123;</div><div class="line">            printf("%d,\n", used[0][i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    printf("-1\n&#125;,\n");</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    for (int i = 1; i &lt;= 1000; i++) &#123;</div><div class="line">        work(i);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;一个用1..n组成的序列{An} 如果Ai - i是0..n-1组成的序列，那么{An}被称为完美序列。给定n，问能否构造出完美序列{An},如果能输出这个序列&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;不知道为啥，反正这样凑能ac….&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="构造" scheme="http://luoxinchen.me/tags/%E6%9E%84%E9%80%A0/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-h</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-h/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-h/</id>
    <published>2016-09-11T08:19:50.000Z</published>
    <updated>2016-09-11T08:28:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 3484<br>给出N个X Y Z组合，其中X Y Z组合能够输出，X, X + Z,..,X + K <em> Z(X + K </em> Z &lt;= Y)，问这些数中，有哪个数输出奇数次。题目保证，只有一个数输出奇数次</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>这是一道非常脑筋急转弯的一题。假设一个数K，那么所有小于K的数出现次数之和为偶数，对于x &gt;= K,那么所有小于等于x的数出现次数之和为奇数，那么我们二分即可。<br>这题读题和想到这个性质是难点。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const ll inf = 1ll &lt;&lt; 32;</div><div class="line">const int maxn = 1e6 + 5;</div><div class="line">char str[100];</div><div class="line">ll X[maxn], Y[maxn], Z[maxn];</div><div class="line">int n;</div><div class="line"></div><div class="line">ll count(ll x) &#123;</div><div class="line">    ll res = 0;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        if(X[i] &gt; x) continue;</div><div class="line">        else &#123;</div><div class="line">            res += (min(x, (ll)Y[i]) - X[i]) / Z[i] + 1;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ll count2(ll x) &#123;</div><div class="line">    ll res = 0;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        if(x &lt; X[i] || x &gt; Y[i]) continue;</div><div class="line">        else &#123;</div><div class="line">            if((x - X[i]) % Z[i] == 0) res++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line"></div><div class="line">bool judge(ll x) &#123;</div><div class="line">    ll res = count(x);</div><div class="line">    return res % 2 == 1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(gets(str) &amp;&amp; str[0] == 0);</div><div class="line">    while(true) &#123;</div><div class="line">        n = 0;</div><div class="line">        sscanf(str, "%lld%lld%lld", &amp;X[n], &amp;Y[n], &amp;Z[n]);</div><div class="line">        n++;</div><div class="line">        while(gets(str) &amp;&amp; str[0]) &#123;</div><div class="line">            // prln(str);</div><div class="line">            sscanf(str, "%lld%lld%lld", &amp;X[n], &amp;Y[n], &amp;Z[n]);</div><div class="line">            n++;</div><div class="line">        &#125;</div><div class="line">        ll l = -1, r = inf; </div><div class="line">        while(l &lt; r - 1) &#123;</div><div class="line">            ll m = (l + r) &gt;&gt; 1;</div><div class="line">            if(judge(m)) &#123;</div><div class="line">                r = m;</div><div class="line">            &#125; else l = m;</div><div class="line">        &#125;</div><div class="line">        if(r == inf) &#123;</div><div class="line">            printf("no corruption\n");</div><div class="line">        &#125; else &#123;</div><div class="line">            printf("%lld %lld\n", r, count2(r));</div><div class="line">        &#125;</div><div class="line">        int flag = 0;</div><div class="line">        while(gets(str)) &#123;</div><div class="line">            flag++;</div><div class="line">            if(str[0] != 0) break;</div><div class="line">        &#125;</div><div class="line">        if(flag == 0 || str[0] == 0) return 0;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 3484&lt;br&gt;给出N个X Y Z组合，其中X Y Z组合能够输出，X, X + Z,..,X + K &lt;em&gt; Z(X + K &lt;/em&gt; Z &amp;lt;= Y)，问这些数中，有哪个数输出奇数次。题目保证，只有一个数输出奇数次&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;这是一道非常脑筋急转弯的一题。假设一个数K，那么所有小于K的数出现次数之和为偶数，对于x &amp;gt;= K,那么所有小于等于x的数出现次数之和为奇数，那么我们二分即可。&lt;br&gt;这题读题和想到这个性质是难点。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="二分" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-g</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-g/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-g/</id>
    <published>2016-09-11T08:14:33.000Z</published>
    <updated>2016-09-11T08:19:29.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>POJ 3579<br>给定一个长度为n的序列，求两两之间差值绝对值的中位数</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>转化为判定性问题，二分。<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const int maxn = 1e5 + 5;</div><div class="line">int X[maxn];</div><div class="line">ll tot;</div><div class="line">int n;</div><div class="line"></div><div class="line">bool judge(int x) &#123;</div><div class="line">    ll cnt = 0;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        int t = X[i] + x;</div><div class="line">        int p = upper_bound(X + i + 1, X + n, t) - X;</div><div class="line">        cnt += p - i - 1;</div><div class="line">    &#125;</div><div class="line">    return cnt &lt; tot;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">     while(scanf("%d", &amp;n) == 1) &#123;</div><div class="line">         int l = 0, r = 0;</div><div class="line">         for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">             scanf("%d", &amp;X[i]);</div><div class="line">             r = max(r, X[i]);</div><div class="line">         &#125;</div><div class="line">         r += 1;</div><div class="line">         sort(X, X + n);</div><div class="line">         tot = ll(n) * (n - 1) / 2;</div><div class="line">         tot = (tot + 1) / 2;</div><div class="line">         while(l &lt; r - 1) &#123;</div><div class="line">             int m = (l + r) &gt;&gt; 1;</div><div class="line">             if(judge(m)) &#123;</div><div class="line">                 l = m;</div><div class="line">             &#125; else &#123;</div><div class="line">                 r = m;</div><div class="line">             &#125;</div><div class="line">         &#125;</div><div class="line">         printf("%d\n", r);</div><div class="line">     &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;POJ 3579&lt;br&gt;给定一个长度为n的序列，求两两之间差值绝对值的中位数&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;转化为判定性问题，二分。&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="二分" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>暑期集训-7-13-f</title>
    <link href="http://luoxinchen.me/2016/09/11/%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD-7-13-f/"/>
    <id>http://luoxinchen.me/2016/09/11/暑期集训-7-13-f/</id>
    <published>2016-09-11T08:11:41.000Z</published>
    <updated>2016-09-11T08:14:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>最大化平均值</p>
<h2 id="做法"><a href="#做法" class="headerlink" title="做法"></a>做法</h2><p>把等式变形，把求最值问题转化为判定性问题，然后二分，很经典的套路.<br><a id="more"></a></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">/************************************************</div><div class="line"> *Author        :mathon</div><div class="line"> *Email         :luoxinchen96@gmail.com</div><div class="line">*************************************************/</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cmath&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;ctime&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">using namespace std;</div><div class="line">typedef pair&lt;int, int&gt; pii;</div><div class="line">typedef long long ll;</div><div class="line">typedef unsigned long long ull;</div><div class="line">#define xx first</div><div class="line">#define lowbit(x) (x&amp;-x)</div><div class="line">#define yy second</div><div class="line">#define pr(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; " "</div><div class="line">#define prln(x) cout &lt;&lt; #x &lt;&lt; " " &lt;&lt; x &lt;&lt; endl</div><div class="line">const double eps = 1e-9;</div><div class="line">const int maxn = 1e5 + 5;</div><div class="line">struct Node &#123;</div><div class="line">    int v, w, num;</div><div class="line">    double x;</div><div class="line">    Node() &#123;&#125;</div><div class="line">&#125;A[maxn];</div><div class="line"></div><div class="line">bool cmp(const Node &amp;a, const Node &amp;b) &#123;</div><div class="line">    return a.x &gt; b.x;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int n, k;</div><div class="line">bool judge(double x) &#123;</div><div class="line">    for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">        A[i].x = A[i].v - x * A[i].w;</div><div class="line">    &#125;</div><div class="line">    sort(A, A + n, cmp);</div><div class="line">    double res = 0;</div><div class="line">    for (int i = 0; i &lt; k; i++) &#123;</div><div class="line">        res += A[i].x;</div><div class="line">    &#125;</div><div class="line">    return res &gt;= 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main(void) &#123;</div><div class="line">#ifdef MATHON</div><div class="line">    //freopen("in.txt", "r", stdin);</div><div class="line">    //freopen("out.txt", "w", stdout);</div><div class="line">#endif</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;k) == 2) &#123;</div><div class="line">        double l = 0, r = 1e9;</div><div class="line">        for (int i = 0; i &lt; n; i++) &#123;</div><div class="line">            scanf("%d%d", &amp;A[i].v, &amp;A[i].w);</div><div class="line">            A[i].num = i;</div><div class="line">        &#125;</div><div class="line">        while(r - l &gt; eps) &#123;</div><div class="line">            double m = (l + r) / 2;</div><div class="line">            if(judge(m)) &#123;</div><div class="line">                l = m + eps;</div><div class="line">            &#125; else &#123;</div><div class="line">                r = m - eps;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        judge(l);</div><div class="line">        for (int i = 0; i &lt; k; i++) &#123;</div><div class="line">            printf("%d%c", A[i].num + 1, i == k - 1 ? '\n' : ' ');</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;题意&quot;&gt;&lt;a href=&quot;#题意&quot; class=&quot;headerlink&quot; title=&quot;题意&quot;&gt;&lt;/a&gt;题意&lt;/h2&gt;&lt;p&gt;最大化平均值&lt;/p&gt;
&lt;h2 id=&quot;做法&quot;&gt;&lt;a href=&quot;#做法&quot; class=&quot;headerlink&quot; title=&quot;做法&quot;&gt;&lt;/a&gt;做法&lt;/h2&gt;&lt;p&gt;把等式变形，把求最值问题转化为判定性问题，然后二分，很经典的套路.&lt;br&gt;
    
    </summary>
    
      <category term="2016暑期集训" scheme="http://luoxinchen.me/categories/2016%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
    
      <category term="ACM" scheme="http://luoxinchen.me/tags/ACM/"/>
    
      <category term="2016 暑期集训" scheme="http://luoxinchen.me/tags/2016-%E6%9A%91%E6%9C%9F%E9%9B%86%E8%AE%AD/"/>
    
      <category term="POJ" scheme="http://luoxinchen.me/tags/POJ/"/>
    
      <category term="二分" scheme="http://luoxinchen.me/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
</feed>
